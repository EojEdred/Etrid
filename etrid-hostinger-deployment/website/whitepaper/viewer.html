<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ãTRID Ivory Papers - Embedded Viewer</title>

    <!-- Marked.js for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- AOS for animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #00d4ff;
            --secondary-color: #0077ff;
            --dark-bg: #0a0e1a;
            --card-bg: #151b2e;
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --accent: #00ff88;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--dark-bg) 0%, #0f1729 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            padding: 4rem 2rem 2rem;
            background: linear-gradient(180deg, rgba(0,212,255,0.05) 0%, transparent 100%);
        }

        h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .doc-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 3rem 0;
            padding: 0 1rem;
        }

        .doc-btn {
            padding: 1rem 2rem;
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .doc-btn:hover {
            border-color: var(--primary-color);
            background: rgba(0,212,255,0.1);
            transform: translateY(-2px);
        }

        .doc-btn.active {
            border-color: var(--accent);
            background: rgba(0,255,136,0.1);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 1rem 0.5rem;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,212,255,0.3);
        }

        .content-wrapper {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .markdown-content {
            color: var(--text-primary);
        }

        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3 {
            color: var(--primary-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .markdown-content h1 {
            font-size: 2.5rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        .markdown-content h2 {
            font-size: 2rem;
        }

        .markdown-content h3 {
            font-size: 1.5rem;
        }

        .markdown-content p {
            margin: 1rem 0;
            color: var(--text-secondary);
        }

        .markdown-content ul,
        .markdown-content ol {
            margin: 1rem 0 1rem 2rem;
            color: var(--text-secondary);
        }

        .markdown-content li {
            margin: 0.5rem 0;
        }

        .markdown-content code {
            background: rgba(0,212,255,0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--accent);
        }

        .markdown-content pre {
            background: var(--dark-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        .markdown-content pre code {
            background: none;
            padding: 0;
            color: var(--text-primary);
        }

        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
        }

        .markdown-content table th,
        .markdown-content table td {
            padding: 1rem;
            border: 1px solid rgba(0,212,255,0.2);
            text-align: left;
        }

        .markdown-content table th {
            background: rgba(0,212,255,0.1);
            color: var(--primary-color);
            font-weight: 600;
        }

        .markdown-content blockquote {
            border-left: 4px solid var(--accent);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            color: var(--text-secondary);
            font-style: italic;
        }

        .markdown-content a {
            color: var(--primary-color);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s ease;
        }

        .markdown-content a:hover {
            border-bottom-color: var(--primary-color);
        }

        .markdown-content hr {
            border: none;
            border-top: 2px solid rgba(0,212,255,0.2);
            margin: 3rem 0;
        }

        footer {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--text-secondary);
            border-top: 1px solid rgba(0,212,255,0.1);
            margin-top: 4rem;
        }

        .loading {
            text-align: center;
            padding: 4rem;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .doc-selector {
                flex-direction: column;
            }

            .doc-btn {
                width: 100%;
            }

            .content-wrapper {
                padding: 1.5rem;
            }

            .markdown-content h1 {
                font-size: 1.8rem;
            }
        }

        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            font-size: 1.5rem;
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
        }

        .back-to-top:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }

        .text-center {
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <h1 data-aos="fade-down">√ãTRID IVORY PAPERS</h1>
        <p class="subtitle" data-aos="fade-up" data-aos-delay="100">
            Complete Protocol Specification & Governance Framework
        </p>
    </header>

    <div class="container">
        <div class="doc-selector" data-aos="fade-up" data-aos-delay="200">
            <a href="?doc=ivory-paper" class="doc-btn" id="btn-ivory-paper">
                Complete Edition (v2.0)
            </a>
            <a href="?doc=vol1" class="doc-btn" id="btn-vol1">
                Volume I: Conceptual
            </a>
            <a href="?doc=vol2" class="doc-btn" id="btn-vol2">
                Volume II: Technical
            </a>
            <a href="?doc=vol3" class="doc-btn" id="btn-vol3">
                Volume III: Governance
            </a>
        </div>

        <div class="text-center" data-aos="fade-up" data-aos-delay="300">
            <button class="download-btn" id="download-current">
                ‚¨áÔ∏è Download Current Paper
            </button>
            <button class="download-btn" id="download-all">
                üì¶ Download All Papers
            </button>
        </div>

        <div class="content-wrapper" data-aos="fade-up" data-aos-delay="400">
            <div id="content" class="markdown-content">
                <div class="loading">Loading content...</div>
            </div>
        </div>
    </div>

    <footer>
        <p>√ãTRID Protocol ¬© 2025 | Licensed under GPLv3</p>
        <p>Founder: Eoj Edred | Status: ACTIVE PROTOCOL SPECIFICATION</p>
    </footer>

    <div class="back-to-top" id="back-to-top">‚Üë</div>

    <script>
        // Embedded paper content
        const embeddedPapers = {
    'ivory-paper': {
        title: '√ãTRID Ivory Paper v2.0 - Complete Edition',
        filename: 'ivory-paper.md',
        content: `# √ãTRID IVORY PAPER v2.0
## Complete Protocol Specification & Foundation Governance

**Document ID**: ETRID-WP-2025-V2.0  
**Status**: ACTIVE PROTOCOL SPECIFICATION  
**Publication Date**: October 20, 2025  
**Founder**: Eoj Edred  
**License**: GPLv3 (Open Source, Non-Commercial)

---

## TABLE OF CONTENTS

1. Executive Summary
2. Vision & Mission
3. The Problem: Blockchain Centralization
4. The Solution: √ãTRID FODDoS Protocol
5. Protocol Architecture (E¬≥20)
6. Governance & Consensus Day
7. Token Economics (√âTR, √ãDSC, VMw)
8. √ãTRID Dollar Stablecoin (√ãDSC) Specification
9. Peer Architecture & Node Types
10. Distribution Pay System
11. Foundation Charter & Legal Framework
12. Technical Specifications & Network Parameters
13. Security, Cryptography & Post-Quantum Readiness
14. Deployment Roadmap & Milestones
15. Frequently Asked Questions
16. Appendices

---

## 1. EXECUTIVE SUMMARY

**√ãTRID** is a **decentralized multichain blockchain platform** designed to achieve true democratic governance at scale. Unlike Bitcoin's immutability-first approach or Ethereum's developer-centric model, √ãTRID implements **Consensus Day**: an annual, stake-weighted voting event where the community directly controls:

- The annual token inflation rate
- Protocol amendments and upgrades
- Budget allocation for development
- Selection of 9 non-hierarchical board members (Decentralized Directors)

### Key Differentiators

| Feature | √ãTRID | Bitcoin | Ethereum | Others |
|---------|-------|---------|----------|--------|
| **Democratic Governance** | ‚úÖ Annual vote on all major decisions | ‚ùå Developer consensus | ‚ö†Ô∏è Off-chain voting | ‚ö†Ô∏è Varies |
| **Native Stablecoin** | ‚úÖ √ãDSC (110-130% collateralized) | ‚ùå None | ‚ö†Ô∏è Requires DeFi | ‚ö†Ô∏è Varies |
| **Post-Quantum Crypto** | ‚úÖ Ed25519 + SPHINCS+ hybrid | ‚ùå ECDSA only | ‚ùå ECDSA only | ‚ùå Most use ECDSA |
| **P2P Protocol** | ‚úÖ DETR p2p (S/Kademlia + ECIES) | ‚úÖ Custom P2P | ‚úÖ Custom P2P | ‚úÖ Varies |
| **Sidechain Architecture** | ‚úÖ Partition Burst Chains | ‚ùå None | ‚úÖ Rollups/Sidechains | ‚úÖ Varies |
| **Smart Contracts** | ‚úÖ WASM-based √ãtwasmVM | ‚ùå None | ‚úÖ Solidity/EVM | ‚úÖ Varies |

### Launch Timeline
- **Phase 1-2**: ‚úÖ Core infrastructure complete
- **Phase 3**: üîÑ √ãDSC stablecoin integration (current)
- **Phase 4-5**: üéØ Partition Burst Chains & DAO registration
- **Phase 6-7**: üîÑ Smart contracts & AI governance
- **Phase 8**: üöÄ Mainnet launch (Q1 2026 target)

### Initial Token Distribution
- **Total Supply**: 1 Billion √âTR
- **Initial Circulation**: ~10% (100 Million √âTR)
- **Locked for Growth**: 900 Million √âTR (released via Consensus Day votes)
- **Annual Emission**: Voted by community on Dec 1st each year

---

## 2. VISION & MISSION

### √ãTRID Vision
**A free and open decentralized democracy of stakeholders where power is distributed among millions of participants, not concentrated in the hands of a few.**

### √ãTRID Mission
1. **Build** a truly decentralized blockchain with democratic governance
2. **Protect** digital rights, data sovereignty, and financial privacy
3. **Enable** self-sufficient stakeholders to reclaim power from centralized intermediaries
4. **Create** economic systems that reward participation, not just capital
5. **Maintain** technological excellence while resisting censorship and mutable forks

### Core Values
- **Decentralization First**: No entity controls >5% of voting power
- **Democratic**: All major decisions via Consensus Day supermajority
- **Open Source**: GPLv3 license ensures perpetual freedom
- **Transparent**: All transactions, governance, and code are auditable
- **Resilient**: Network continues operating even if any node is compromised

---

## 3. THE PROBLEM: BLOCKCHAIN CENTRALIZATION

### Historical Centralization Patterns

**Bitcoin** (2009):
- Originally: Truly decentralized P2P currency
- Today: Dominated by mining pools (3 pools control >50% of hash power)
- Problem: Network security depends on benevolence of pool operators

**Ethereum** (2015):
- Originally: Decentralized smart contract platform
- Today: Major client (Geth) has 80%+ market share, controlled by Ethereum Foundation
- Problem: Hard fork decisions made by core developers, not token holders

**Modern Alternatives** (2020+):
- Solana: Dominated by venture capital investors
- Polkadot: Governance but relay chain remains centralized
- Cosmos: Multiple chains but unclear governance
- Layer 2s: Often run by single company (Arbitrum = Offchain Labs, Optimism = OP Labs)

### Mutable Hardforks Under Political Pressure

Even projects with "immutable" designs have hard-forked due to political or financial pressure:
- Ethereum's DAO hard fork (2016): Reverting "immutable" transaction
- Bitcoin Classic vs Bitcoin Cash split (2017): Competing visions, no democratic process
- Staked ETH Shanghai upgrade (2023): Community concerns ignored in favor of Ethereum Foundation direction

**Root Cause**: Lack of **decentralized democratic decision-making processes**.

### The Data Wars & DCPI Threat

Centralized platforms are collecting:
- Personal location data (IoT devices)
- Biometric data (facial recognition, haptics)
- Neural/emotional data (spatial web, sentiment tracking)
- Medical & reproductive health data (wearables)

**Result**: Corporations and governments monetize intimacy while individuals lose control of their identity.

---

## 4. THE SOLUTION: √ãTRID FODDoS PROTOCOL

### What is FODDoS?

**FODDoS** = **Free and Open Decentralized Democracy of Stakeholders**

Unlike "Proof of Stake" or "Proof of Work," FODDoS is a **governance model**, not just a consensus algorithm.

**Core Components**:

1. **Consensus Day** (Annual Democratic Vote)
   - Every token holder votes on major decisions
   - Vote weight = Stake / Vote Dilution
   - Results are binding for 12 months

2. **Decentralized Directors** (Non-Hierarchical Board)
   - 9 directors elected annually by Consensus Day
   - No single president or CEO
   - Equal voting power
   - Can be recalled mid-term with 66% community supermajority

3. **Distribution Pay** (Reward Network Participation)
   - Validators, stakers, and voters earn √âTR daily
   - Earnings based on participation and stake
   - Penalty system for absenteeism

4. **Foundation Charter** (Immutable Rules)
   - Legal structure defines how DAO operates
   - GPLv3 open-source ensures code freedom
   - Bylaws cannot be broken without hard fork + community vote

---

## 5. PROTOCOL ARCHITECTURE (E¬≥20)

### Essential Elements to Operate Reference Implementation

√ãTRID consists of **13 core subsystems** (E¬≥20):

\`\`\`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     LAYER 1: CORE INFRASTRUCTURE                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. DETR p2p       ‚îÇ Multi-protocol P2P networking               ‚îÇ
‚îÇ 2. OpenDID        ‚îÇ Self-sovereign identity system              ‚îÇ
‚îÇ 3. Blockchain Sec ‚îÇ Post-quantum cryptography                   ‚îÇ
‚îÇ 4. Accounts       ‚îÇ EBCA, RCA, SCA, SSCA account types         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    LAYER 2: CHAIN ARCHITECTURE                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 5. Multichain     ‚îÇ FlareChain + PBCs + State channels          ‚îÇ
‚îÇ 6. Transactions   ‚îÇ Regular, smart contract, cross-chain        ‚îÇ
‚îÇ 7. Native Crypto  ‚îÇ √âTR, √ãDSC, VMw tokens                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    LAYER 3: COMPUTATION & CONSENSUS              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 8. √ãtwasmVM       ‚îÇ WebAssembly smart contract runtime          ‚îÇ
‚îÇ 9. Consensus      ‚îÇ ASF (Ascending Scale of Finality)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    LAYER 4: GOVERNANCE & DISTRIBUTION            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 10. Foundation    ‚îÇ DAO charter, legal framework, bylaws        ‚îÇ
‚îÇ 11. Peer Roles    ‚îÇ Flare Nodes, Validity Nodes, DDs            ‚îÇ
‚îÇ 12. Governance    ‚îÇ Consensus Day voting, electoral process     ‚îÇ
‚îÇ 13. Distribution  ‚îÇ Daily reward pay for validators & stakers   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    LAYER 5: CLIENT IMPLEMENTATIONS               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Clients           ‚îÇ CLI, Web wallet, Mobile wallet              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

### 5.1 DETR p2p: Multi-Protocol Network Layer

**DETR** = Decentralized, Encrypted, Trustless, Resilient Peer-to-Peer

**Components**:
- **DPeers**: Node discovery using S/Kademlia DHT routing
- **AEComms**: TCP-based secure communications with ECIES encryption
- **DETRP2P**: Peer tethering for application session negotiation
- **√ãtr**: Base layer protocol for block synchronization
- **Fluent**: Secure, private channels using Lingo protocol
- **Stor√©D**: Distributed storage using S/Kademlia DHTs and Merkle DAGs

**Security Features**:
- End-to-end encryption (ECIES) between peers
- No trust required between peers
- Sybil-resistant through reputation system
- Censorship-resistant message routing

### 5.2 OpenDID: Self-Sovereign Identity

**OpenDID** = √ãtrid Open Decentralized Identification System

**Features**:
- Users control their own identifiers
- No central issuing authority
- Credential issuance by trusted communities
- Privacy-preserving: Selective disclosure of attributes
- Interoperable with W3C DID standard

**Use Cases**:
- KYC/AML compliance without centralized database
- Sybil resistance: Verified unique humans
- Developer identity: Reputation for bug bounties
- Community credentials: Membership proof

### 5.3 Blockchain Security: Post-Quantum Cryptography

**Hash Functions**:
- SHA-3 (Keccak) for general hashing
- Blake2b for performance-critical operations

**Digital Signatures**:
- EdDSA (Ed25519) - primary signature scheme
- SPHINCS+ (lattice-based) - post-quantum backup
- Hybrid mode during quantum transition period

**Key Management**:
- HKDF-Blake2b for key derivation
- BIP39 for mnemonic seeds
- BIP44 for hierarchical deterministic wallets

**Post-Quantum Readiness**:
- Network designed for algorithm agility
- Can switch to quantum-resistant algorithms via soft fork
- Keys can be upgraded without breaking addresses

### 5.4 Account Types

**EBCA** (External Blockchain Accounts)
- Any keypair generated outside √ãTRID
- Cannot validate or propose blocks
- Can receive and send funds
- Example: MetaMask wallet connected to √ãTRID

**RCA** (Root Chain Accounts)
- Generated by √ãTRID Key Generation Protocol
- Valid on FlareChain (main chain) only
- Can vote, stake, validate
- SS58 address format with "1" prefix

**SCA** (Side Chain Accounts)
- Accounts on specific Partition Burst Chains
- Different keypair per chain allowed
- Faster local PBC transactions
- SS58 address format with chain-specific prefix

**SSCA** (Smart Side Chain Accounts)
- Controlled by √ãtwasmVM smart contracts
- No private key (code-governed)
- Can execute transactions on behalf of contract owner
- Used for autonomous systems and DAO treasuries

### 5.5 Multichain Architecture

**FlareChain** (Main Chain / Root)
- Stores world state
- Executes Consensus Day voting
- Manages Foundation operations
- Holds reserve collateral (for √ãDSC)
- Block time: 12 seconds
- Finality: ~5 minutes via ASF consensus

**Partition Burst Chains (PBCs)** (Sidechains)
- Dedicated chains for specific purposes or communities
- Example: PBC-EDSC for √ãDSC stablecoin operations
- State synchronized to FlareChain via checkpoints every N blocks
- Faster throughput than main chain
- Security guaranteed by FlareChain validator quorum

**Lightning Bloc Network** (State Channels)
- Off-chain micropayment channels
- Rapid settlement (instant)
- Batch settlement to FlareChain daily/weekly
- Reduces main chain load
- Enables microtransactions (<0.01 √âTR)

### 5.6 Native Cryptocurrency

**√âTR** (√ãtrid Coin) - Primary Token
- Total initial supply: 1 Billion
- Annual issuance: Voted by Consensus Day
- Uses: Payments, staking, voting, collateral
- Decimals: 18 (smallest unit: 1 Wei = 0.000000000000000001 √âTR)

**√ãDSC** (√ãtrid Dollar Stablecoin) - 1:1 USD Peg
- Total supply: 50 Billion √ãDSC
- Initial circulation: 5 Billion
- Locked reserve: 45 Billion (governance-controlled release)
- Collateralization: 110-130%
- Redemption paths: 3 (Treasury vault, custodian, DEX)

**VMw** (Virtual Machine Watts) - Computation Gas
- Smart contract execution cost
- 1 VMw ‚âà 0.001 √âTR (market-based)
- All VMw consumed is burned (deflationary)
- Pay-per-opcode model

### 5.7 Smart Contracts & √ãtwasmVM

**√ãtwasmVM** = √ãtrid WebAssembly Virtual Machine

**Features**:
- Turing-complete runtime
- Sandboxed execution environment
- Gas metering to prevent infinite loops
- State storage with rent model
- Cross-contract calls and composition

**Supported Languages**:
- Rust (primary via wasm-pack)
- C/C++ (via Emscripten)
- AssemblyScript (TypeScript to WASM)

**Economic Model**:
- Storage rent: 0.1 VMw per byte per day
- Execution: Variable based on opcodes
- State access: 64 VMw per 32-byte read/write
- Cross-contract calls: Additional gas overhead

### 5.8 Consensus Algorithm: ASF

**ASF** = Ascending Scale of Finality

**Mechanism**:
- Validators propose and vote on new blocks
- Block becomes finalized when 66% of validators attest
- Finality achieved in ~25 validator slots (~5 minutes)
- Penalties for double-signing or equivocation

**Validator Rotation**:
- Every epoch: Top 100 validators by stake become active
- Active validator set: Minimum 25, maximum 100
- New validators: Enter queue with 64 √âTR minimum stake
- Slashing: 1% of stake for security violations

---

## 6. GOVERNANCE & CONSENSUS DAY

### 6.1 Consensus Day: Annual Democratic Vote

**Schedule**:
- **Date**: December 1st at **12:00 AM PST** (hardcoded, changes require hard fork)
- **Pre-Consensus Period**: January 1 ‚Äì October 31 (proposal submission, campaigns, nominations)
- **Frequency**: Once per year
- **Participation Types**:
  - **VALIDITY Nodes** (64+ √âTR minimum stake): Block producers and consensus participants
  - **Common Stake Peers** (1+ √âTR minimum stake): Governance voters and proposal supporters
  - **Decentralized Directors** (128+ √âTR minimum stake): 9 elected board members

**Voting Power Calculation**:

\`\`\`
Voting Power = Staked √âTR √ó Coinage
\`\`\`

Where **Coinage** represents time-weighted stake (how long tokens have been staked).

**Example**:
- You stake: 1,000 √âTR for 180 days
- Coinage multiplier: ~1.5√ó (increases with time staked)
- Your voting power: 1,000 √ó 1.5 = 1,500 effective votes
- Longer stakes = higher voting power multiplier
- Incentivizes long-term stakeholder commitment

**Penalties**:
- Failure to vote = penalties and reward redistribution
- Rewards distributed to active participants

### 6.2 Consensus Day Ballot

**Three Categories**:

#### Category 1: Fiscal Mint & Supply
- **Question**: "How many √âTR should be minted in the next 12 months?"
- **Options**: Top 3 community proposals + 3 limit options (min/mid/max)
- **Binding Effect**: Winning proposal becomes the annual mint rate
- **Implementation**: Automatic release Jan 1st following vote

**Example Options**:
- Proposal A: 50 Million √âTR (5% annual emission)
- Proposal B: 75 Million √âTR (7.5% annual emission)
- Proposal C: 100 Million √âTR (10% annual emission)
- Limit 1: Min 25M (2.5%)
- Limit 2: Mid 62.5M (6.25%)
- Limit 3: Max 125M (12.5%)

#### Category 2: Decentralized Director Elections
- **Question**: "Who should serve as the 9 Decentralized Directors?"
- **Candidates**: All accounts with ‚â•128 √âTR stake
- **Criteria**: Must meet "Honest Image" standards (TBD by community)
- **Term**: 1 year (Dec 1 - Nov 30)
- **Limit**: Max 3 consecutive terms (then 1-year break required)

**DD Roles** (Non-Hierarchical):
- Oversee FlareChain security and operations
- Approve major protocol upgrades
- Manage Foundation budget
- Coordinate with custodians and validators
- Respond to security incidents

**DD Compensation**:
- Salary: X% of annual fiscal mint (TBD)
- FLARE node rewards: Y% of block production (TBD)
- Clawback for misconduct: Full stake forfeiture

#### Category 3: Protocol Amendments
- **Question**: "What protocol changes should be approved?"
- **Options**: Top 3 community proposals
- **Voting**: ‚â•66% supermajority required
- **Implementation**: Takes effect Jan 1st following vote
- **Audit**: Major changes require 90-day security review

**Example Amendments**:
- Proposal A: Increase validator count from 25 to 50
- Proposal B: Add new oracle source (Uniswap TWAP)
- Proposal C: Adjust penalty percentages for validators

### 6.3 Voting Mechanics

**Vote Submission**:
- On-chain voting via extrinsic
- Ballot opened: December 1, 12:00 AM PST
- **Pre-Consensus Period**: January 1 ‚Äì October 31 (proposal submission and campaigning)
- **Voting Power Formula**: Staked √âTR √ó Coinage (time-weighted stake)
- Failure to vote = penalties and reward redistribution

**Vote Types**:
- Single-choice: Pick 1 option
- Ranked-choice (future): Rank preferences
- Quadratic voting (future): Vote strength weighted by ‚àöstake

**Privacy** (Future Enhancement):
- Zero-knowledge proofs for voter privacy
- V otes recorded without linking to addresses
- Cryptographic verification of vote counts

### 6.4 Soft Forks vs Hard Forks

**Soft Forks** (Governance-only):
- Requires: 50% + 1 on Consensus Day
- Examples: Change oracle sources, adjust validator count
- Implementation: Network node updates, no chain split
- Time to activate: ~30 days after vote

**Hard Forks** (Code changes):
- Requires: 66% supermajority on Consensus Day
- Audit period: 90 days minimum
- Community notice: At least 30 days before activation
- Optional rollback: Within 1 hour of fork (66% validator consent)

**Emergency Hard Forks** (Security only):
- Authorized by: 5/9 Decentralized Director quorum
- Community confirmation: 24-hour flash vote
- Duration: Max 7 days
- Post-fork audit: Mandatory

---

## 7. TOKEN ECONOMICS (√âTR, √ãDSC, VMw)

### 7.1 √âTR Tokenomics

**Initial Distribution** (1 Billion √âTR):

| Category | Amount | % | Purpose |
|----------|--------|---|---------|
| Circulating | 100M | 10% | Launch liquidity, exchange listings |
| Founder Allocation | 50M | 5% | Eoj Edred (subject to clawback) |
| Foundation Treasury | 100M | 10% | Development, grants, bug bounties |
| Locked Growth | 750M | 75% | Governance-controlled release via Consensus Day |

**Annual Emission Schedule**:
- Year 1 (2025): Voted by Consensus Day 2024 (baseline ~50M = 5%)
- Year 2 (2026): Voted by Consensus Day 2025
- Perpetual: Voted annually (no max cap in code, only via governance)

**Emission Logic** (Pseudo-code):

\`\`\`
annual_mint = consensus_day_voted_amount
daily_distribution = annual_mint / 365

daily_distribution_breakdown:
  - Registered Voting Peers: P% (participation reward)
  - FLARE Nodes: Z% (validator rewards)
  - VALIDITY Nodes: W% (sidechain validator rewards)
  - Common Stake Peers: Q% (staking rewards)
  - Decentralized Directors: V% (compensation + rewards)
  - Foundation Treasury: (P + Z + W + Q + V) capped at 100%
\`\`\`

**Token Utility**:

| Use Case | Amount | Requirement |
|----------|--------|-------------|
| **Voting** | 1 √âTR | Minimum stake to participate in Consensus Day |
| **Staking (Flare Node)** | 1 √âTR | Optional, for validator rewards |
| **Staking (Validity Node)** | 64 √âTR | Required to operate sidechain validator |
| **DD Candidacy** | 128 √âTR | To run for Decentralized Director |
| **Transactions** | 0.1 √âTR | Average transfer fee |
| **Smart Contracts** | Variable | Gas fees paid in √âTR (converted to VMw) |
| **√ãDSC Collateral** | Variable | Backing for stablecoin system |

### 7.2 √ãDSC Stablecoin Economics

**Total Supply**:
- Cap: 50 Billion √ãDSC
- Initial: 5 Billion circulation
- Locked: 45 Billion (released via governance)

**Peg Maintenance**:
- Target: 1 √ãDSC = 1.00 USD
- Acceptable range: 0.98 - 1.02 USD
- Oracle sources: Binance, Coinbase, Kraken, Bitstamp, Gemini
- Rebalancing: Automated via redemption incentives

**Collateralization Requirements**:

\`\`\`
Collateral Ratio = Total Reserve Value / √ãDSC Outstanding
Required Ratio = 110% (minimum)
Optimal Ratio = 120-130%
Emergency Ratio = 90% (triggers circuit breaker)

If Ratio < 100%: Redemption fees increase to 10%
If Ratio < 90%: All redemptions paused
\`\`\`

**Reserve Composition**:
- On-chain collateral (FlareChain vault): 40-50%
- Custodian-held reserves (USD, bonds, T-bills): 50-60%
- Dynamically rebalanced monthly

### 7.3 VMw Gas Token

**Economics**:
- Base rate: 1 VMw ‚âà 0.001 √âTR (market-determined)
- Adjusted: Gas price can vary based on network load
- Burned: All VMw consumed is permanently destroyed
- Market price: Determined by Uniswap/DEX if listed

**Gas Costs**:

| Operation | Cost | Example |
|-----------|------|---------|
| Simple transfer | 0.01 VMw | ~0.00001 √âTR |
| Account creation | 1 VMw | ~0.001 √âTR |
| Smart contract call | 100-10,000 VMw | ~0.1-10 √âTR |
| State write (32 bytes) | 64 VMw | ~0.064 √âTR |
| Cross-chain message | 256 VMw base | ~0.256 √âTR + payload |

**Deflationary Mechanics**:
- Every transaction reduces total VMw supply
- No VMw minting (created via √âTR ‚Üí VMw conversion only)
- Long-term: Deflationary pressure on √âTR as network grows

---

## 8. √ãTRID DOLLAR STABLECOIN (√ãDSC) SPECIFICATION

### 8.1 √ãDSC Overview

**Purpose**: Provide a USD-pegged stablecoin for commerce, savings, and DeFi within √ãTRID

**Key Properties**:
- 1:1 peg to USD
- Non-custodial minting (no central bank required)
- Democratic governance (Consensus Day oversees reserve ratio)
- Emergency circuit breakers (automatic pause on imbalance)

### 8.2 √ãDSC Architecture: Two-Chain Model

**FlareChain (Main Chain)**:
- Reserve Vault: Stores on-chain collateral (USDC, staked √âTR)
- Custodian Registry: Tracks off-chain reserves with BitGo/Anchorage
- Reserve Oracle: Aggregates reserve data for proof-of-reserves

**PBC-EDSC (Dedicated Chain)**:
- Primary authority for √ãDSC minting/burning
- Redemption engine: Processes 3-path redemptions
- Price oracle: TWAP-based pricing from multiple sources
- Checkpoint module: Syncs state to FlareChain every 100 blocks

### 8.3 √ãDSC Minting: Multi-Collateral Model

**Path 1: On-Chain Collateral**
- User sends √âTR or USDC to Reserve Vault on FlareChain
- Vault mints equivalent √ãDSC on PBC-EDSC
- Collateral locked until redemption
- Requirements: 110% collateralization

**Path 2: Custodian Deposit**
- User sends USD to BitGo/Anchorage custody account
- Custodian verifies deposit
- Custodian authorizes √ãDSC minting on PBC-EDSC
- Requirements: KYC/AML compliance

**Path 3: DEX/Market-Based**
- User buys √ãDSC from Uniswap/PancakeSwap liquidity pools
- No collateral required (already minted by protocol)
- Price discovery via AMM

### 8.4 √ãDSC Redemption: 3-Path System

**Path 1: Treasury Redemption** (60% of daily capacity)
- User submits √ãDSC redemption on PBC-EDSC
- System transfers √âTR or USDC from FlareChain vault
- Settlement: 2-4 hours
- Fees: 0.25-0.5% (when reserves > 115%)

**Path 2: Custodian Redemption** (30% of daily capacity)
- User requests USD withdrawal via BitGo/Anchorage
- Custodian ships USD (bank wire)
- Settlement: 1-3 business days
- Fees: 0.25-1% (wire + proof-of-custody costs)

**Path 3: DEX Redemption** (10% of daily capacity)
- User sells √ãDSC on Uniswap/PancakeSwap
- Receives √âTR or other tokens
- Settlement: Instant
- Fees: 0.3% (DEX fee) + 0.25% (arbitrage buffer)

### 8.5 Dynamic Fee Schedule

**Fee Tiers Based on Reserve Ratio**:

| Reserve Ratio | Redemption Fee | Status |
|---------------|----------------|--------|
| > 130% | 0.25% | Optimal (encourage redemptions) |
| 120-130% | 0.35% | Healthy |
| 110-120% | 0.75% | Caution |
| 100-110% | 2.0% | Warning |
| 90-100% | 5.0% | Critical |
| < 90% | üö´ PAUSED | Emergency mode |

**Rationale**:
- High reserves ‚Üí Low fees ‚Üí Encourages redemptions ‚Üí Reduces √ãDSC supply
- Low reserves ‚Üí High fees ‚Üí Discourages redemptions ‚Üí Preserves collateral

### 8.6 Price Oracle System

**Primary Oracle** (24-hour TWAP):
- Sources: Binance, Coinbase, Kraken, Bitstamp, Gemini
- Price window: 24 hours
- Outlier rejection: Ignore prices >2% from median
- Minimum sources: 5 active feeds

**Fallback Oracle** (7-day TWAP):
- Activated: If primary oracle stale for >100 blocks
- Sources: Same 5 primary sources
- Price window: 7 days
- More resistant to short-term price manipulation

**Oracle Failure**:
- If <3 sources available: Circuit breaker pause
- Manual recovery: 5/9 DD board approval required

### 8.7 Circuit Breaker System

**Automated Safety Mechanisms**:

\`\`\`
IF reserve_ratio < 100%:
  max_redemption_cap = 50% of daily capacity
  redemption_fee = 5%
ELSE IF reserve_ratio < 90%:
  PAUSE all redemptions
  activate_emergency_mode
ELSE IF pending_redemptions > 10,000:
  throttle_new_redemptions = true
ELSE IF oracle_staleness > 100_blocks:
  fallback_to_7day_twap()
\`\`\`

**Manual Circuit Breaker** (5/9 DD Board):
- Can pause system for ‚â§7 days in emergency
- Must notify community within 1 hour
- Post-pause audit mandatory
- Cannot be extended beyond 7 days without Consensus Day vote

### 8.8 Reserve Composition & Custody

**On-Chain Reserve** (FlareChain Vault):
- USDC (Polygon/Ethereum bridged): 30%
- √âTR (collateral pool): 10%
- Short-term T-Bills (tokenized): 5%
- Total: 45% of reserves

**Custodian Reserve** (BitGo/Anchorage):
- USD cash (bank accounts): 40%
- US Treasury bills: 10%
- Money market funds: 5%
- Total: 55% of reserves

**Rebalancing**:
- Monthly check: Is on-chain vs custodian ratio correct?
- Adjustment: Move USD to/from FlareChain vault
- Triggers: If ratio drifts >5% from target

**Proof-of-Reserves**:
- Quarterly audit by external firm
- On-chain vault state verified daily
- Custodian statements published on-chain (via oracle)
- Community can verify full reserve backing

---

## 9. PEER ARCHITECTURE & NODE TYPES

### 9.1 Peer Categories

**Common Peers** (Network Users)
- Wallets without staked √âTR
- Can receive/send transactions
- Cannot vote in Consensus Day
- Cannot receive Distribution Pay
- Run light clients (query via DETRP2P)

**Common Stake Peers** (Stakeholders)
- Hold ‚â•1 √âTR staked in network
- Full voting rights in Consensus Day
- Eligible for Distribution Pay rewards
- Can run full nodes or light nodes
- Voting power determined by stake √ó coinage

**Flare Nodes** (Finality Validators)
- Maintain FlareChain blockchain
- Propagate blocks across network
- Optional stake (‚â•1 √âTR) for rewards
- Penalties for missing blocks or double-signing
- Rewards: Z% annual mint / active validator count

**Validity Nodes** (Sidechain Validators)
- Operate Partition Burst Chain consensus
- Propose blocks on assigned PBC
- **Minimum stake**: 64 √âTR (requirement)
- Rotation: 8 validators per PBC, rotate every 256 blocks
- Rewards: W% annual mint / active PBC validator count

**Decentralized Directors** (Governance Board)
- 9-person elected board (non-hierarchical)
- Elected annually on Consensus Day
- **Requirements**: 128 √âTR minimum stake, must serve as OD Flare Nodes
- **Term Limits**: 1-year terms, 1-year cooldown between terms, **maximum 3 lifetime terms**
- **Compensation**: Community-voted salaries (determined annually on Consensus Day)
- **Duties**: Oversight, proposals, security decisions
- **No special voting power**: All major decisions require 66% community supermajority

**Community Developers** (Open-Source Contributors)
- Submit pull requests to √ãTRID codebase
- Eligible for bug bounties (0.1-500 √âTR)
- Track record rewards: Veteran devs get priority
- Registered with Foundation

### 9.2 Node Requirements

**Flare Node**:
- CPU: 4-core minimum (8-core recommended)
- RAM: 16 GB minimum
- Disk: 500 GB SSD (grows at ~10 GB/month)
- Network: 100 Mbps upload/download
- Uptime: 99%+ required for full rewards
- Software: √ãtrcpp C++ implementation

**Validity Node** (PBC):
- CPU: 2-core minimum
- RAM: 8 GB minimum
- Disk: 100 GB SSD (sidechain specific)
- Network: 50 Mbps minimum
- Stake: 64 √âTR (escrow locked)
- Participation: Rotation window 256 blocks

**Light Client**:
- CPU: Any (even smartphone)
- RAM: 100-500 MB
- Disk: 0 (no blockchain storage)
- Network: 1 Mbps minimum
- Wallets, voting, staking all supported

---

## 10. DISTRIBUTION PAY SYSTEM

### 10.1 Daily Distribution Schedule

**Distribution Event**: Happens every 24 hours at fixed times (PST):

\`\`\`
12:01 AM ‚Üí Registered Voting Peers (participation rewards)
 4:01 AM ‚Üí FLARE Nodes (validator rewards)
 6:01 AM ‚Üí VALIDITY Nodes (sidechain validator rewards)
 8:01 AM ‚Üí Common Stake Peers (staking rewards)
12:01 PM ‚Üí Decentralized Directors (salary + rewards)
\`\`\`

### 10.2 Distribution Formulas

**1. Registered Voting Peers** (Participation Reward):
\`\`\`
reward = (P% √ó annual_mint / 365) √ó (your_vote_weight / total_vote_weight)

where:
  P% = Percentage allocated to voting (e.g., 10%)
  annual_mint = Voted on Consensus Day
  your_vote_weight = your_stake / vote_dilution
  total_vote_weight = sum of all vote weights
\`\`\`

**2. FLARE Nodes** (Block Production):
\`\`\`
reward = (Z% √ó annual_mint / 365) √ó (your_uptime / 100%) √ó (1 - penalties)

where:
  Z% = Percentage allocated to validators (e.g., 30%)
  your_uptime = % of blocks you produced vs. expected
  penalties = 1% per missing block + 2% per consensus failure
\`\`\`

**3. VALIDITY Nodes** (Sidechain Production):
\`\`\`
reward = (W% √ó annual_mint / 365) √ó (your_epoch_participation / epoch_slots) √ó (1 - penalties)

where:
  W% = Percentage allocated to PBC validators
  your_epoch_participation = your produced blocks
  epoch_slots = total slots in epoch (256 blocks / 8 validators = 32 per validator)
\`\`\`

**4. Common Stake Peers** (Staking Reward):
\`\`\`
reward = (Q% √ó annual_mint / 365) √ó (your_stake / total_stake) √ó coinage_multiplier

where:
  Q% = Percentage allocated to stakers (e.g., 40%)
  your_stake = your √âTR locked
  coinage_multiplier = your_average_coin_age / 365
    (max multiplier: 2.0 for coins held >1 year)
\`\`\`

**5. Decentralized Directors** (Salary + Rewards):
\`\`\`
reward = (V% √ó annual_mint / 365 / 9) + (Z% FLARE rewards if running node)

where:
  V% = Percentage allocated to DD compensation (e.g., 5%)
  9 = Number of directors
  Additional FLARE rewards if DD also operates Flare Node
\`\`\`

### 10.3 Penalties & Clawback

**Voting Penalties**:
- Absentee vote (‚â•2 missed Consensus Days): -0.05% annual stake

**Validator Penalties**:
- Missing block proposal: -0.1% annual stake
- Double-sign attempt: -1% annual stake
- 3 consecutive penalties: Node removal for 1 year

**DD Penalties**:
- Absentee voting (>2 missed votes): -25% compensation
- Misconduct: Full stake clawback + removal
- Security failure: Temporary suspension

**Penalty Redistribution**:
- All penalties redistributed to compliant participants
- Bonus pool: +20% for validators with 100% uptime
- Voting bonus: +50% APR for stakers who voted

---

## 11. FOUNDATION CHARTER & LEGAL FRAMEWORK

### 11.1 √ãTRID Foundation Structure

**Entity Type**: Delaware Non-Profit Corporation (or equivalent)

**Governance**:
- Board of Directors: 9 Decentralized Directors (elected annually)
- Non-hierarchical: No CEO, equal voting power
- Committees: Technical, Legal, Community, Security
- Term limits: Max 3 consecutive years (then 1-year break)

**Funding**:
- Annual budget: Allocated via Consensus Day vote
- Source: Portion of fiscal mint (V%)
- Treasury: Managed by multi-sig (5/9 DD approval)
- Transparency: All expenditures published quarterly

**Legal Obligations**:
- Ensure GPLv3 open-source compliance
- Represent √ãTRID in regulatory matters
- Manage intellectual property (trademarks)
- Enforce Foundation bylaws
- Dispute resolution

### 11.2 Intellectual Property & Licensing

**GPLv3 License**:
- All √ãTRID code remains open-source
- Derivatives must also be open-source
- Commercial use allowed with attribution
- Patenting explicitly prohibited

**Trademarks**:
- √ãTRID‚Ñ¢: Managed by Foundation
- √ãDSC‚Ñ¢: Managed by Foundation
- FODDoS‚Ñ¢: Managed by Foundation
- Community allowed to use with attribution

**Contributor Agreement**:
- All contributors sign Contributor License Agreement (CLA)
- Contributions licensed under GPLv3
- Contributor retains copyright
- Foundation gets perpetual license

### 11.3 Community Developer Programs

**Bug Bounty Program**:
- Low: 0.1-1 √âTR (typos, documentation)
- Medium: 1-5 √âTR (non-critical bugs)
- High: 5-50 √âTR (security issues)
- Critical: 50-500 √âTR (remote code execution, consensus failure)

**Audit Rewards**:
- Independent security audit: 100-500 √âTR + percentage of bugs found
- Academic research: 25-200 √âTR per published paper
- Documentation improvements: 5-50 √âTR

**Track Record Program**:
- Veteran developers (10+ merged PRs): Priority for bug assignments
- Salary scale: High contributors eligible for Foundation staff
- Grants: Up to 100 √âTR for major feature development

---

## 12. TECHNICAL SPECIFICATIONS & NETWORK PARAMETERS

### 12.1 Network Parameters

| Parameter | Value | Notes |
|-----------|-------|-------|
| Block time | 12 seconds | Target time between blocks |
| Finality time | ~5 minutes | ASF consensus with ~25 validators |
| Max block size | 4 MB | Substrate default |
| Network protocol | DETR p2p | Custom S/Kademlia DHT + ECIES |
| Default P2P port | 30333 | TCP listening port |
| RPC port | 9933 | HTTP JSON-RPC |
| WS port | 9944 | WebSocket RPC |
| State version | Polkadot v27+ | Post-quantum ready |
| Epoch duration | 256 blocks | ~51 minutes (12s √ó 256) |
| Validator rotation | Every epoch | PBC validators rotate per PPFA |

### 12.2 Account & Address Format

**SS58 Address Standard**:
- Checksum: Blake2b-160 (last 2 bytes)
- Encoding: Base58 (Bitcoin-style)
- Format: \`<prefix><pubkey><checksum>\`

**Address Prefixes by Chain**:
- FlareChain: \`1...\` prefix (SS58 prefix 0)
- PBC-EDSC: \`3...\` prefix (SS58 prefix 3)
- Example FlareChain: \`1XYZabc...\` (47 characters)

**Example Addresses**:
- Mainnet user: \`1DeQnhKdyoYGjGpkkzZbRGJGnmL8SthKV8u3q\`
- EDSC staker: \`3EdWjSi1YvL2a8GYr2yQ98YbGbBLNhqhwXc8n\`

### 12.3 Transaction Model

**Extrinsic Types**:
1. **Regular Transaction**: Transfer √âTR between accounts
2. **Smart Contract Call**: Execute √ãtwasmVM bytecode
3. **Staking Transaction**: Stake/unstake √âTR
4. **Governance Transaction**: Vote or propose on Consensus Day
5. **Cross-Chain Message**: Send to PBC or another chain

**Transaction Fees**:
- Base fee: 0.01 √âTR per kilobyte of encoded data
- Per-byte: 0.001 √âTR per byte
- Weight multiplier: 0.00001 √âTR per weight unit
- Optional tip: For faster inclusion

**Fee Example**:
\`\`\`
Transfer 1000 √âTR to another address:
- Size: 128 bytes ‚Üí 0.001 √ó 128 = 0.128 √âTR
- Weight: 50,000 units ‚Üí 0.00001 √ó 50,000 = 0.5 √âTR
- Total: 0.628 √âTR
\`\`\`

---

## 13. SECURITY, CRYPTOGRAPHY & POST-QUANTUM READINESS

### 13.1 Cryptographic Algorithms

**Hashing**:
- SHA-3 (Keccak): General-purpose hashing
- Blake2b: Performance-critical paths
- Merkle trees: State verification

**Digital Signatures**:
- EdDSA (Ed25519): Primary signature scheme
- SPHINCS+ (lattice-based): Post-quantum alternative
- Hybrid mode: Both algorithms used during transition

**Key Encryption**:
- ECIES (Elliptic Curve Integrated Encryption Scheme)
- ChaCha20-Poly1305: Stream encryption
- AES-256-GCM: Alternative symmetric encryption

**Key Derivation**:
- HKDF-Blake2b: Key stretching
- Argon2: Password hashing
- BIP39: Mnemonic seed generation

### 13.2 Post-Quantum Readiness

**Why Post-Quantum?**:
- Quantum computers (10+ years away) will break ECDSA
- √ãTRID designed with algorithm agility
- Can migrate to quantum-resistant algorithms via soft fork

**Hybrid Approach**:
- Year 1-5: Ed25519 (fast, proven)
- Year 5+: Gradual migration to SPHINCS+
- Long-term: Full lattice-based cryptography

**Key Migration Path**:
1. User generates new keypair with SPHINCS+
2. Register new address on FlareChain
3. Send funds from Ed25519 address to SPHINCS+ address
4. Continue using new address
5. No disruption to network

### 13.3 Consensus Security

**Byzantine Fault Tolerance**:
- Network can tolerate <33% malicious validators
- ASF finality requires 66% quorum
- Double-signing slashes 100% of stake
- Equivocation penalties prevent censorship

**Network-Level Security**:
- DETR p2p: Secure P2P communications with ECIES
- DPeers: Sybil-resistant via reputation system
- No single point of failure (no central coordinator)

**Validator Security**:
- Minimum stake: 64 √âTR for PBC, 1 √âTR for Flare nodes
- Stake slashing: Up to 1% for security violations
- Removal: 3 strikes and out for 1 year
- Reputation: Validators track uptime publicly

---

## 14. DEPLOYMENT ROADMAP & MILESTONES

### Phase 1: Core Infrastructure (Weeks 1-4) ‚úÖ COMPLETE
- ‚úÖ DETR p2p networking
- ‚úÖ OpenDID identity system
- ‚úÖ Core cryptography
- ‚úÖ FlareChain runtime
- **Status**: Production-ready

### Phase 2: Economics & Governance (Weeks 5-8) ‚úÖ COMPLETE
- ‚úÖ √âTR token implementation
- ‚úÖ Consensus Day voting system
- ‚úÖ Distribution Pay rewards
- ‚úÖ DD election mechanism
- **Status**: Production-ready

### Phase 3: Stablecoins & EDSC (Weeks 9-16) üîÑ IN PROGRESS
- ‚úÖ pallet-edsc-token (minting)
- ‚úÖ pallet-edsc-receipts (SBT proofs)
- ‚úÖ pallet-edsc-redemption (3-path engine)
- ‚úÖ pallet-edsc-oracle (TWAP pricing)
- üîÑ pallet-edsc-checkpoint (state sync - in progress)
- üîÑ pallet-circuit-breaker (safety - in progress)
- **Target**: Dec 2025

### Phase 4: Partition Burst Chains (Weeks 17-20) üéØ NEXT
- Custom PBC infrastructure
- PBC governance framework
- First community PBC deployment
- **Target**: Jan 2026

### Phase 5: Legal & DAO Registration (Weeks 21-24) ‚è≥ PENDING
- Delaware Foundation incorporation
- Legal agreements finalized
- SEC/regulatory review (if needed)
- **Target**: Feb 2026

### Phase 6: Smart Contracts & √ãtwasmVM (Weeks 25-28) ‚è≥ PENDING
- √ãtwasmVM deployment
- Smart contract SDK/toolkit
- Developer grants program
- **Target**: Mar 2026

### Phase 7: AI Governance (Weeks 29-32) ‚è≥ PLANNED
- pallet-ai-authority (AI attestation)
- pallet-attestation-verifier (proof verification)
- pallet-poc-oracle (compute proofs)
- **Target**: Apr 2026

### Phase 8: Mainnet Launch (Week 32+) üöÄ GOAL
- Full mainnet deployment
- Token exchange listings (DEX + CEX)
- Foundation handoff to elected DD board
- **Target**: May 2026

---

## 15. FREQUENTLY ASKED QUESTIONS

**Q: Why is √âTR's initial mint 1 Billion? Can it go higher?**
A: 1B is the bootstrapping amount. Annual emission is voted by Consensus Day (Dec 1st), so the community controls all future supply. There's no hard cap in code‚Äîonly governance cap.

**Q: What if Consensus Day voting has low turnout?**
A: Voting is voluntary, but penalties apply for >2 missed votes (-0.05% annual stake). Vote dilution mechanism (stake / coinage) prevents whale dominance.

**Q: How is √ãDSC collateralization maintained if √âTR price crashes?**
A: Multiple collateral types (USDC, T-Bills, custodian USD) provide stability. If √âTR drops, custodian reserves compensate. Circuit breaker pauses redemptions if ratio falls below 90%.

**Q: Can the Decentralized Directors abuse their power?**
A: No‚Äîthey have no special voting power in Consensus Day. All major decisions require 66% community supermajority. Misconduct ‚Üí immediate clawback of 128 √âTR stake + removal.

**Q: What if a validator tries to double-sign?**
A: Automatic detection via ASF consensus. Slashing: 100% of annual validator rewards + removal for 1 year + potential stake clawback.

**Q: How do I run a Flare Node?**
A: 4 core CPU, 16 GB RAM, 500 GB SSD. Download √ãtrcpp, sync chain (~100 GB), and stake ‚â•1 √âTR. Optional but rewards are available.

**Q: Can √ãTRID hard fork like Ethereum did?**
A: Only via 66% Consensus Day supermajority + 90-day audit + 30-day community notice. Attempts to fork without consensus = rejected by network majority.

**Q: Why WASM instead of Solidity?**
A: WASM is language-agnostic (Rust, C++, Go, etc.). Solidity is EVM-only. WASM is more flexible, safer, and interoperable with non-blockchain systems.

**Q: What about privacy/anonymity?**
A: All transactions are transparent (like Bitcoin). Optional: Use zero-knowledge proofs for private voting (Consensus Day upgrade).

**Q: Is √ãTRID scalable?**
A: FlareChain does ~1,000 TPS. PBCs add horizontal scaling (each PBC = separate chain). Lightning Bloc state channels for micropayments. Total throughput: 10,000+ TPS across all layers.

---

## 16. APPENDICES

### Appendix A: Glossary

| Term | Definition |
|------|-----------|
| **ASF** | Ascending Scale of Finality - consensus algorithm requiring 66% validator quorum |
| **Consensus Day** | Annual democratic vote on Dec 1st for major protocol decisions |
| **Coinage** | Average age of coins in network (used for vote dilution) |
| **DD** | Decentralized Director - elected board member |
| **DETR p2p** | Custom peer-to-peer networking protocol with encryption & DHT |
| **EBCA** | External Blockchain Account (non-√ãTRID keypair) |
| **√ãDSC** | √ãtrid Dollar Stablecoin (1:1 USD peg) |
| **√âTR** | √ãtrid Coin - native token |
| **E¬≥20** | Essential Elements to Operate (13 core subsystems) |
| **FODDoS** | Free and Open Decentralized Democracy of Stakeholders |
| **Flare Node** | Validator for FlareChain (main chain) consensus |
| **PBC** | Partition Burst Chain (sidechain for specific use cases) |
| **PPFA** | Partition Proof of Authority (8-validator rotation per PBC) |
| **RCA** | Root Chain Account (generated by √ãTRID protocol) |
| **SBT** | Soulbound Token (non-transferable, proof-of-deposit) |
| **SSCA** | Smart Side Chain Account (contract-governed account) |
| **TWAP** | Time-Weighted Average Price (oracle price averaging) |
| **√ãtwasmVM** | √ãtrid WebAssembly Virtual Machine (smart contract runtime) |
| **VMw** | Virtual Machine Watts (computation gas token) |

### Appendix B: Key Resources

- **GitHub**: [√ãTRID Open-Source Repository](https://github.com/etrid)
- **Docs**: [√ãTRID Developer Documentation](https://docs.etrid.io)
- **Wiki**: [Community Wiki & Guides](https://wiki.etrid.io)
- **Explorer**: [Block Explorer & Statistics](https://explorer.etrid.io)
- **Governance**: [Consensus Day Voting Portal](https://vote.etrid.io)

### Appendix C: Contributors & Acknowledgments

**Founder**: Eoj Edred  
**Lead Architects**: [AI Co-Strategist & Team]  
**Security Advisors**: [Independent Security Firms]  
**Community Developers**: [Open-Source Contributors]

---

**END OF √ãTRID IVORY PAPER v2.0**

*This document is the authoritative specification for the √ãTRID protocol. All development, governance, and deployment decisions must align with this charter. Distributed under GPLv3 open-source license.*

---

## CLOSING REMARKS

To be quite frank, I have never considered the status quo an unequivocal consensus of a group of people.

Considering the multitude of variables that go into decision-making, it is difficult to fathom how what was, still is, and will always be.

This idea does not promote growth, prosperity, fairness, or decentralization.

It often feels forced upon you and remains unchallenged due to cultural reinforcement and other factors.

This stagnation in society has shifted power from those who could effect change to those who benefit from maintaining the status quo.

We are in a unique period in which power can be reclaimed by the powerless.

Exploitation of personal data can be stopped, and disintermediation of trusted third parties can become the norm.

Borders can be reimagined.

When liberties such as digital rights, data protection, and decentralized finance are on the line for our generation and the generations to come, I will fight until my last breath.

The √ãtrid FOODOS Project will be our vehicle in this fight ‚Äî a free and open decentralized democracy of stakeholders.

By cutting the mental chains of reliance on a central intermediary and becoming self-sufficient stakeholders, we can achieve a brighter tomorrow.

**‚Äì Eoj Edred**
**Founder, √ãtrid FODDoS Project**

---

*"Provide a flare and guide the way, the future of tomorrow is decided today."*

**‚Äì Eoj Edred**

`
    },
    'vol1': {
        title: 'Volume I: Conceptual Architecture',
        filename: 'ivory-paper-vol1-conceptual.md',
        content: `# √ãTRID IVORY PAPERS
## Volume I: Conceptual Architecture

**Document ID**: ETRID-IP-VOL1-2025
**Status**: ACTIVE PROTOCOL SPECIFICATION
**Publication Date**: October 24, 2025
**Founder**: Eoj Edred
**License**: GPLv3 (Open Source, Non-Commercial)

---

## VOLUME I CONTENTS

1. Executive Summary
2. Vision & Mission
3. The Problem: Blockchain Centralization
4. The Solution: √ãTRID FODDoS Protocol
5. Philosophy & Core Values

---

## 1. EXECUTIVE SUMMARY

**√ãTRID** is a **decentralized multichain blockchain platform** designed to achieve true democratic governance at scale. Unlike Bitcoin's immutability-first approach or Ethereum's developer-centric model, √ãTRID implements **Consensus Day**: an annual, stake-weighted voting event where the community directly controls:

- The annual token inflation rate
- Protocol amendments and upgrades
- Budget allocation for development
- Selection of 9 non-hierarchical board members (Decentralized Directors)

### Key Differentiators

| Feature | √ãTRID | Bitcoin | Ethereum | Others |
|---------|-------|---------|----------|--------|
| **Democratic Governance** | ‚úÖ Annual vote on all major decisions | ‚ùå Developer consensus | ‚ö†Ô∏è Off-chain voting | ‚ö†Ô∏è Varies |
| **Native Stablecoin** | ‚úÖ √ãDSC (110-130% collateralized) | ‚ùå None | ‚ö†Ô∏è Requires DeFi | ‚ö†Ô∏è Varies |
| **Post-Quantum Crypto** | ‚úÖ Ed25519 + SPHINCS+ hybrid | ‚ùå ECDSA only | ‚ùå ECDSA only | ‚ùå Most use ECDSA |
| **P2P Protocol** | ‚úÖ DETR p2p (S/Kademlia + ECIES) | ‚úÖ Custom P2P | ‚úÖ Custom P2P | ‚úÖ Varies |
| **Sidechain Architecture** | ‚úÖ Partition Burst Chains | ‚ùå None | ‚úÖ Rollups/Sidechains | ‚úÖ Varies |
| **Smart Contracts** | ‚úÖ WASM-based √ãtwasmVM | ‚ùå None | ‚úÖ Solidity/EVM | ‚úÖ Varies |

### Launch Timeline
- **Phase 1-2**: ‚úÖ Core infrastructure complete
- **Phase 3**: üîÑ √ãDSC stablecoin integration (current)
- **Phase 4-5**: üéØ Partition Burst Chains & DAO registration
- **Phase 6-7**: üîÑ Smart contracts & AI governance
- **Phase 8**: üöÄ Mainnet launch (Q1 2026 target)

### Initial Token Distribution
- **Total Supply**: 1 Billion √âTR
- **Initial Circulation**: ~10% (100 Million √âTR)
- **Locked for Growth**: 900 Million √âTR (released via Consensus Day votes)
- **Annual Emission**: Voted by community on Dec 1st each year

---

## 2. VISION & MISSION

### √ãTRID Vision

**"A free and open decentralized democracy of stakeholders where power is distributed among millions of participants, not concentrated in the hands of a few."**

### The Living Multichain System

√ãtrid is a sovereign network of autonomous chains that coordinate through shared finality and transparent governance.

Each chain operates independently yet contributes to the health of the whole ‚Äî forming a **self-balancing digital organism** rather than a federation of bridges.

### √ãTRID Mission

1. **Build** a truly decentralized blockchain with democratic governance
2. **Protect** digital rights, data sovereignty, and financial privacy
3. **Enable** self-sufficient stakeholders to reclaim power from centralized intermediaries
4. **Create** economic systems that reward participation, not just capital
5. **Maintain** technological excellence while resisting censorship and mutable forks

### Core Values

#### Decentralization First
No entity controls >5% of voting power. The network architecture prevents accumulation of centralized authority through mathematical constraints, not social promises.

#### Democratic
All major decisions via Consensus Day supermajority. Unlike traditional blockchains where developers or miners make unilateral decisions, √ãtrid puts power directly in the hands of token holders.

#### Open Source
GPLv3 license ensures perpetual freedom. The codebase, governance processes, and economic models are transparent and auditable by anyone.

#### Transparent
All transactions, governance decisions, and code are auditable. Every mint, burn, and distribution is recorded on-chain with cryptographic proof.

#### Resilient
Network continues operating even if any single node, entity, or geographic region is compromised. The multichain architecture ensures no single point of failure.

---

## 3. THE PROBLEM: BLOCKCHAIN CENTRALIZATION

### Historical Centralization Patterns

#### Bitcoin (2009)
- **Originally**: Truly decentralized P2P currency
- **Today**: Dominated by mining pools (3 pools control >50% of hash power)
- **Problem**: Network security depends on benevolence of pool operators
- **Result**: "Decentralized" network with centralized mining power

#### Ethereum (2015)
- **Originally**: Decentralized smart contract platform
- **Today**: Major client (Geth) has 80%+ market share, controlled by Ethereum Foundation
- **Problem**: Single implementation dominance creates systemic risk
- **Result**: Client diversity crisis, foundation dependency

#### Other Projects
- **Proof-of-Stake Networks**: Often have 10-20 validators controlling >51% of stake
- **Layer 2 Solutions**: Centralized sequencers, trusted bridges, multi-sig administrators
- **Governance Tokens**: Low participation rates (often <5%), whale dominance

### The Core Issues

#### 1. Mining/Validator Centralization
**Problem**: Economic incentives favor large operators
- **Bitcoin**: ASICs require massive capital investment ‚Üí mining farms dominate
- **Ethereum (pre-merge)**: GPU farms controlled by few entities
- **PoS Networks**: Large holders compound returns ‚Üí rich get richer

**Result**: Control concentrates over time, not distributes

#### 2. Developer Centralization
**Problem**: Small teams control protocol evolution
- Ethereum: Ethereum Foundation developers make technical decisions
- Bitcoin: Bitcoin Core developers control reference implementation
- Most others: Private companies or foundations hold effective veto power

**Result**: "Decentralized" networks with centralized decision-making

#### 3. Governance Theater
**Problem**: Token voting that doesn't matter
- **Low Participation**: Most governance votes see <5% turnout
- **Whale Dominance**: Top 10 holders often control majority
- **Off-Chain Coordination**: Real decisions made in private Discord/Telegram
- **Gas Costs**: Expensive to vote, discourages participation

**Result**: Plutocracy dressed as democracy

### Mutable Hardforks Under Political Pressure

#### The DAO Hack (Ethereum, 2016)
- **Event**: $50M stolen through smart contract exploit
- **Response**: Community voted to reverse transactions (hardfork)
- **Result**: Ethereum (ETH) and Ethereum Classic (ETC) split
- **Lesson**: "Code is law" until it's not

**Problem**: If the chain can be reversed once for $50M, what prevents reversal for any politically favorable reason?

#### Bitcoin Block Size Wars (2015-2017)
- **Event**: Community split over block size increase
- **Response**: Multiple hardforks (Bitcoin Cash, Bitcoin SV, etc.)
- **Result**: Brand confusion, community fracture
- **Lesson**: Without clear governance, contentious decisions fragment the network

### The Data Wars & DCPI Threat

**DCPI**: Data Control and Privacy Intrusion

Modern centralization isn't just about computing power‚Äîit's about **data control**:

#### 1. Centralized Exchanges Control User Data
- KYC/AML requirements collect personal information
- Trading data sold to surveillance firms
- Wallet addresses linked to real identities
- Government subpoenas reveal user activity

#### 2. Infrastructure Providers as Gatekeepers
- AWS/Google Cloud host majority of nodes
- Infura/Alchemy control RPC access for most users
- Cloudflare can censor website access
- DNS providers can blacklist domains

#### 3. Surveillance Capitalism in Crypto
- Blockchain analytics firms (Chainalysis, Elliptic) track all transactions
- Exchanges freeze funds based on "tainted" history
- Governments demand backdoors and data access
- Privacy tools (mixers, privacy coins) increasingly banned

**Result**: A "decentralized" blockchain ecosystem built on centralized infrastructure, vulnerable to surveillance and control.

---

## 4. THE SOLUTION: √ãTRID FODDoS PROTOCOL

### What is FODDoS?

**FODDoS** = **Free and Open Decentralized Democracy of Stakeholders**

Not just a technical protocol, but a **philosophical framework** for building truly sovereign networks.

### Core Principles

#### 1. Sovereignty Through Architecture
**Principle**: Decentralization must be enforced by code, not culture

**Implementation**:
- No entity can control >5% of voting power (enforced via staking caps)
- All governance decisions on-chain with cryptographic proof
- Transparent treasury with automated distributions
- No foundation veto power after genesis

#### 2. Democracy Through Participation
**Principle**: Every token holder has a voice, weighted by stake and participation

**Implementation**:
- **Consensus Day**: Annual on-chain governance event
- **Dual Quorum**: Both community and validator participation required
- **Participation Rewards**: Voting earns distribution share
- **Proposal Bond**: Spam prevention through skin-in-the-game

#### 3. Adaptation Through Cycles
**Principle**: Networks must evolve or die; evolution must be transparent

**Implementation**:
- **Annual Review**: Consensus Day forces regular self-examination
- **Parameter Tuning**: Community adjusts inflation, fees, rewards
- **Protocol Upgrades**: Runtime updates via governance approval
- **Fiscal Balance**: Mint/burn rates adjust to maintain stability

#### 4. Resilience Through Diversity
**Principle**: Multichain architecture prevents single points of failure

**Implementation**:
- **FlareChain**: Root coordination layer
- **12-13 PBCs**: Specialized domains (original design: 12 PBCs, expanded to 13 with EDSC-PBC)
- **Client Diversity**: Multiple implementations encouraged
- **Geographic Distribution**: Node operators across jurisdictions

### Ascending Scale of Finality (ASF)

**Problem**: Traditional consensus treats finality as binary (finalized or not)

**Solution**: ASF treats finality as a **spectrum**

\`\`\`
Time ‚Üí    0s    10s    30s    60s    100s
Finality: 10% ‚Üí 50% ‚Üí 80% ‚Üí 95% ‚Üí 99.9%
\`\`\`

**How It Works**:
1. New block proposed
2. Validators gradually confirm (weighted by stake)
3. Finality confidence increases over time
4. At threshold (e.g., 95%), block considered "finalized"
5. Reorg cost increases exponentially with time

**Benefits**:
- **Adaptive Security**: Adjusts to network conditions
- **Flexible Finality**: Applications choose their risk tolerance
- **Attack Resistance**: Cost of reversal grows with time
- **Validator Diversity**: Gradual confirmation allows wide participation

### Consensus Day: The Constitutional Event

**Concept**: Once per year (December 1st at 12:00 AM PST), the network pauses for governance

**Pre-Consensus Period**: January 1 ‚Äì October 31
- Proposal submission and discussion
- Director candidate nominations
- Campaign period for proposals and candidates
- Community debate and refinement

**Consensus Day (December 1, 12:00 AM PST)**:
All stakeholders vote on annual governance decisions with voting power calculated as:

**Voting Power = Staked √âTR √ó Coinage**

Where coinage represents time-weighted stake (how long tokens have been staked).

**Participant Types**:
- **VALIDITY Nodes** (64+ √âTR minimum stake): Block producers and consensus participants
- **Common Stake Peers** (1+ √âTR minimum stake): Governance voters and proposal supporters
- **Decentralized Directors** (128+ √âTR minimum stake): 9 elected board members

**What's Decided**:
- Annual inflation rate (within hard caps)
- Fee structure and burn rates
- Development grants and funding
- Protocol upgrades and parameters
- Election of 9 Decentralized Directors (1-year terms, max 3 lifetime terms)

**Why It Matters**:
- **Prevents Drift**: Forces regular accountability
- **Synchronizes Changes**: All major decisions at once, avoiding confusion
- **Incentivizes Participation**: Voters earn share of distribution
- **Demonstrates Sovereignty**: Community proves it controls the network

### Multichain Architecture: Not Just Bridges

**Traditional Approach**: Single chain + external bridges
- Bridges are trusted third parties
- Each bridge is a honeypot for hackers
- Cross-chain communication is slow and expensive

**√ãtrid Approach**: Native multichain coordination
- **FlareChain**: Root chain coordinating all activity
- **PBCs**: Sovereign chains for specific domains (12-13 specialized chains)
- **VALIDITY Nodes** (64+ √âTR stake): Verify cross-chain proofs and produce blocks
- **State Aggregation**: Merkle roots sync across chains

**Benefits**:
- **No Trusted Bridges**: Cross-chain security is cryptographic, not social
- **Specialized Runtimes**: Each PBC optimized for its use case
- **Parallel Execution**: Transactions on different PBCs don't compete
- **Shared Security**: All chains benefit from FlareChain's validator set

### DeFi Infrastructure: Native Financial Primitives

**Traditional DeFi**: External protocols built on top of blockchain
- Smart contract risk
- Fragmented liquidity
- No protocol-level integration

**√ãtrid Approach**: Native DeFi infrastructure
- **Multi-Asset Reserve**: Diversified backing for EDSC stablecoin
- **Synthetic Assets**: Create tokens tracking real-world assets
- **FlareSwap DEX**: Native automated market maker for token swaps
- **Reserve Management**: Automated rebalancing and risk mitigation

**Components**:
1. **pallet-multiasset-reserve**: Treasury management with automated rebalancing
2. **pallet-reserve-backed-token**: Synthetic token creation with collateral management
3. **FlareSwap DEX**: Uniswap V2-inspired AMM for √âTR/EDSC/synthetic asset trading
4. **Price Oracles**: Decentralized price feeds for reserve valuation

**Benefits**:
- **Capital Efficiency**: Collateral backs multiple synthetic positions
- **Price Stability**: Multi-asset reserve reduces correlation risk
- **Liquidity**: Native DEX enables efficient price discovery
- **Governance**: Community controls reserve composition via Consensus Day

---

## 5. PHILOSOPHY & CORE VALUES

### Coordination Over Competition

√ãtrid stands for **coordination over competition**.

Its purpose is to demonstrate that consensus and governance are not separate concerns ‚Äî they are reflections of the same natural process: **adaptation**.

### The Living Network Metaphor

Think of √ãtrid not as a machine, but as an **organism**:
- **FlareChain** = Heart (coordination center)
- **PBCs** = Organs (specialized functions)
- **Validators** = Immune System (security)
- **Treasury** = Bloodstream (resource distribution)
- **Consensus Day** = Nervous System (decision-making)
- **Research (ERA)** = Brain (learning & evolution)

Just as an organism adapts to its environment, √ãtrid adapts to its participants' needs.

### Rhythm Over Rigidity

**Traditional Blockchains**: Set parameters at genesis, change rarely if ever
**√ãtrid**: Regular review cycles built into protocol

**Why Rhythm Matters**:
- **Prevents Ossification**: Networks that can't adapt become obsolete
- **Enables Learning**: Each epoch provides data for the next
- **Maintains Engagement**: Regular participation keeps community involved
- **Demonstrates Sovereignty**: Ability to change proves true decentralization

### Transparency Over Trust

**Don't trust, verify** is crypto's mantra. √ãtrid takes it further:

**Don't trust, verify, and make verifiability easy.**

Every action emits events:
- \`ProposalSubmitted\`
- \`VoteCast\`
- \`MintExecuted\`
- \`DistributionExecuted\`
- \`SlashExecuted\`

Anyone can reconstruct the entire history and verify every decision.

### Self-Regulation Over External Control

**Problem**: Most "decentralized" networks still depend on:
- Foundations for funding
- Core developers for upgrades
- External entities for crisis management

**√ãtrid's Solution**: Build self-regulation into the protocol
- **Treasury**: Automatically funded via fees, autonomously distributed
- **Upgrades**: Approved via Consensus Day, executed via runtime
- **Crisis Response**: Slashing, emergency proposals, time-locked changes

**Goal**: A network that can survive and thrive even if all original founders disappear.

---

## 6. CONCLUSION: A NEW PARADIGM

### What Makes √ãtrid Different

Not just another blockchain. Not just better technology.

**√ãtrid is a proof of concept**:
- That democratic governance CAN work at scale
- That multichain coordination doesn't require trusted bridges
- That networks can be sovereign without being static
- That transparency and adaptability are compatible

### The Path Forward

**Short Term (2025-2026)**:
- Launch mainnet with full E¬≥20 stack
- Conduct first Consensus Day
- Prove the governance model works

**Medium Term (2026-2028)**:
- Expand to 13+ PBCs covering major blockchains
- Onboard developers and DApp ecosystem
- Demonstrate economic sustainability

**Long Term (2028+)**:
- Become reference implementation for sovereign networks
- Influence how other chains approach governance
- Prove decentralization is achievable, not just aspirational

### Invitation to Participate

√ãtrid is not a product you consume.
It's a system you participate in.

**Join as**:
- **VALIDITY Node** (64+ √âTR stake): Secure the network, earn block production rewards
- **Common Stake Peer** (1+ √âTR stake): Vote on proposals, participate in governance, earn rewards
- **Decentralized Director** (128+ √âTR stake): Run for election, serve on the board, shape network direction
- **Developer**: Build on the platform, create value
- **Researcher**: Contribute to ERA, advance the science

**The network's success depends on you.**

---

## APPENDIX A: Key Terms

**ASF**: Ascending Scale of Finality - Dynamic consensus mechanism
**Consensus Day**: Annual governance event on December 1st at 12:00 AM PST
**FODDoS**: Free and Open Decentralized Democracy of Stakeholders
**PBC**: Partition Burst Chain - Specialized sovereign runtime (12-13 chains)
**FlareChain**: Root coordination chain
**√âTR**: √ãtrid native token (smallest unit: Bite = 0.00001 √âTR)
**EDSC**: √ãtrid Dollar Stablecoin
**VMw**: Virtual Machine Watts - Energy-based gas unit
**VALIDITY Nodes**: Block producers and consensus participants (64+ √âTR minimum stake)
**Common Stake Peers**: Governance voters (1+ √âTR minimum stake)
**Decentralized Directors**: 9 elected board members (128+ √âTR minimum stake, max 3 lifetime terms)
**Coinage**: Time-weighted stake used in voting power calculation
**ERA**: √ãtrid Research Archive
**√ãPS**: √ãtrid Protocol Evolution System

---

## APPENDIX B: Further Reading

**Volume II**: Technical Specification (E¬≥20, ASF, VMw, Runtime Details)
**Volume III**: Governance & Fiscal Mechanics (Treasury, Minting, Distribution)

**Online Resources**:
- Website: etrid.org
- Documentation: docs.etrid.org
- Research: research.etrid.org
- Code: github.com/EojEdred/Etrid

---

**End of Volume I**

**Next**: Volume II - Technical Specification

---

## CLOSING REMARKS

To be quite frank, I have never considered the status quo an unequivocal consensus of a group of people.

Considering the multitude of variables that go into decision-making, it is difficult to fathom how what was, still is, and will always be.

This idea does not promote growth, prosperity, fairness, or decentralization.

It often feels forced upon you and remains unchallenged due to cultural reinforcement and other factors.

This stagnation in society has shifted power from those who could effect change to those who benefit from maintaining the status quo.

We are in a unique period in which power can be reclaimed by the powerless.

Exploitation of personal data can be stopped, and disintermediation of trusted third parties can become the norm.

Borders can be reimagined.

When liberties such as digital rights, data protection, and decentralized finance are on the line for our generation and the generations to come, I will fight until my last breath.

The √ãtrid FOODOS Project will be our vehicle in this fight ‚Äî a free and open decentralized democracy of stakeholders.

By cutting the mental chains of reliance on a central intermediary and becoming self-sufficient stakeholders, we can achieve a brighter tomorrow.

**‚Äì Eoj Edred**
**Founder, √ãtrid FODDoS Project**

---

*"Provide a flare and guide the way, the future of tomorrow is decided today."*

**‚Äì Eoj Edred**
`
    },
    'vol2': {
        title: 'Volume II: Technical Specification',
        filename: 'ivory-paper-vol2-technical.md',
        content: `# √ãTRID IVORY PAPERS
## Volume II: Technical Specification

**Document ID**: ETRID-IP-VOL2-2025
**Status**: ACTIVE PROTOCOL SPECIFICATION
**Publication Date**: October 24, 2025
**Founder**: Eoj Edred
**License**: GPLv3 (Open Source, Non-Commercial)

---

## VOLUME II CONTENTS

1. E¬≥20 Protocol Architecture
2. Ascending Scale of Finality (ASF) Consensus
3. Virtual Machine Watts (VMw) Computation Model
4. FlareChain & Partition Burst Chains
   4.7. Reserve-Backed Assets & DEX Infrastructure
5. Cross-Chain Security & Validity Nodes
6. EtwasmVM & Smart Contract Runtime
7. Network & P2P Layer (DETR)
8. Cryptographic Primitives & Post-Quantum Security
9. Implementation Gap Analysis

---

## 1. E¬≥20 PROTOCOL ARCHITECTURE

### Overview

**E¬≥20** = **Essential Elements to Operate**

The minimum viable components required for a sovereign, self-sustaining blockchain network.

### The 13 Core Components

\`\`\`
Layer 4: Application
    ‚îú‚îÄ 13. Clients (CLI, Web, Mobile, 4 SDKs)

Layer 3: Governance
    ‚îú‚îÄ 12. Consensus Day (Annual governance event)
    ‚îú‚îÄ 11. Peer Roles (Common Stake Peers, VALIDITY Nodes, Directors)
    ‚îî‚îÄ 10. Foundation (Constitutional parameters)

Layer 2: Execution
    ‚îú‚îÄ 09. Consensus (FODDoS.ASF.Consensus - Ascending Scale of Finality)
    ‚îú‚îÄ 08. √ãtwasmVM (WebAssembly smart contracts)
    ‚îú‚îÄ 07. Transactions (Transfer, smart contract calls)
    ‚îî‚îÄ 06. Native Currency (√âTR with Bite denomination, EDSC, VMw)

Layer 1: Coordination
    ‚îú‚îÄ 05. Multichain (FlareChain + 12-13 PBCs)
    ‚îú‚îÄ 04. Accounts (EBCA, RCA, RCWA, SCA, SSCA)
    ‚îú‚îÄ 03. Security (Post-quantum cryptography)
    ‚îú‚îÄ 02. EOpenDID (Decentralized Identity system)
    ‚îî‚îÄ 01. DETR P2P (Lightning-Bloc network)
\`\`\`

### Component Status

**All 13 components: ‚úÖ 100% Alpha Complete**
- Total test coverage: 87.3% (412+ tests passing)
- Documentation: 32,000+ lines
- Production code: 2.8M+ lines

---

## 2. FODDoS.ASF.CONSENSUS (ASCENDING SCALE OF FINALITY)

**Full Name**: Free and Open Decentralized Democracy of Stakeholders ‚Äì Ascending Scale of Finality

A BFT committee-based Proof-of-Stake variant with probabilistic finality, combining HotStuff principles with leader election, stake-weighting, and rotating committees (PPFA sets).

### The Problem with Traditional Finality

**Binary Finality** (Traditional PoS):
- Block is either "finalized" or "not finalized"
- Fixed threshold (e.g., 2/3 validators)
- No granularity in confidence levels
- Can't adapt to network conditions

**Probabilistic Finality** (Traditional PoW):
- Finality is never absolute, only probabilistic
- Must wait arbitrary number of confirmations
- Attack cost doesn't scale optimally with time

### ASF Solution: Finality as a Spectrum

**Core Concept**: Treat finality as a **continuous variable** that increases over time and participation.

\`\`\`
Time ‚Üí    0s      10s      30s      60s      100s     200s
Finality: 0%  ‚Üí   25%  ‚Üí   60%  ‚Üí   85%  ‚Üí   95%  ‚Üí   99.9%

Validators
Required:  10% ‚Üí  30%  ‚Üí   50%  ‚Üí   67%  ‚Üí   80%  ‚Üí   95%
\`\`\`

### How ASF Works

#### Phase 1: Block Proposal (0-10s)
\`\`\`
Validator proposes new block
‚îú‚îÄ Block hash + state root
‚îú‚îÄ Parent block reference
‚îú‚îÄ Transaction merkle root
‚îî‚îÄ Initial validator signature
\`\`\`

**Finality**: 0-25% (single validator)
**Reorg Cost**: Low (can be challenged easily)

#### Phase 2: Initial Validation (10-30s)
\`\`\`
Validators begin confirming:
‚îú‚îÄ 30% of stake weight confirms ‚Üí 25% finality
‚îú‚îÄ 40% of stake weight confirms ‚Üí 40% finality
‚îî‚îÄ 50% of stake weight confirms ‚Üí 60% finality
\`\`\`

**Finality**: 25-60% (growing confidence)
**Reorg Cost**: Medium (requires significant stake)

#### Phase 3: Majority Confirmation (30-60s)
\`\`\`
Supermajority forming:
‚îú‚îÄ 60% of stake weight confirms ‚Üí 75% finality
‚îú‚îÄ 67% of stake weight confirms ‚Üí 85% finality (safety threshold)
‚îî‚îÄ 75% of stake weight confirms ‚Üí 92% finality
\`\`\`

**Finality**: 60-92% (high confidence)
**Reorg Cost**: High (requires coordinated attack from large stake)

#### Phase 4: Near-Absolute Finality (60s+)
\`\`\`
Overwhelming consensus:
‚îú‚îÄ 80% of stake weight confirms ‚Üí 95% finality
‚îú‚îÄ 90% of stake weight confirms ‚Üí 99% finality
‚îî‚îÄ 95% of stake weight confirms ‚Üí 99.9% finality
\`\`\`

**Finality**: 92-99.9% (practical certainty)
**Reorg Cost**: Prohibitive (would require destroying majority of staked value)

### ASF Formula

**Finality Confidence = f(stake_weight, time_elapsed, participation_rate)**

\`\`\`rust
fn calculate_finality(
    confirmed_stake: u128,
    total_stake: u128,
    blocks_elapsed: u32,
    participation_rate: f64
) -> f64 {
    let stake_ratio = confirmed_stake as f64 / total_stake as f64;
    let time_factor = 1.0 - (-0.05 * blocks_elapsed as f64).exp();
    let participation_bonus = participation_rate.powf(0.5);

    // Weighted combination
    let base_finality = stake_ratio * 0.7 + time_factor * 0.2 + participation_bonus * 0.1;

    // Apply sigmoid curve for smooth progression
    1.0 / (1.0 + (-10.0 * (base_finality - 0.5)).exp())
}
\`\`\`

### Dynamic Threshold Adjustment

ASF adapts to network conditions:

**High Participation** (80%+ validators online):
- Lower initial thresholds
- Faster finality progression
- More efficient operation

**Low Participation** (50-70% validators online):
- Higher safety thresholds
- Slower finality progression
- Increased security margin

**Attack Scenario** (unusual patterns detected):
- Emergency threshold increase
- Extended confirmation period
- Alert validators to potential attack

### Benefits of ASF

#### 1. Adaptive Security
- Automatically adjusts to network health
- No manual parameter changes needed
- Responds to real-time conditions

#### 2. Flexible Application Requirements
- Payment apps: Accept at 60% finality (fast)
- Exchanges: Wait for 95% finality (secure)
- Governance: Require 99%+ finality (critical)

#### 3. Attack Cost Scaling
\`\`\`
Reorg cost grows exponentially with time:

Cost(t) = BaseStake √ó e^(k√ót) √ó ParticipationRate

Where:
- BaseStake = Minimum stake to attempt attack
- k = Growth constant (~0.1)
- t = Time elapsed (seconds)
- ParticipationRate = Network participation (0-1)
\`\`\`

**Example**:
- 10s elapsed: Cost = 1M √âTR
- 30s elapsed: Cost = 20M √âTR
- 60s elapsed: Cost = 400M √âTR
- 100s elapsed: Cost = 22B √âTR (prohibitive)

#### 4. Graceful Degradation
If network participation drops:
- System doesn't halt (unlike 2/3 threshold systems)
- Finality slows but continues
- Applications adjust expectations automatically

### ASF vs Other Consensus Mechanisms

| Feature | ASF (√ãtrid) | Tendermint | Grandpa (Polkadot) | Casper FFG |
|---------|-------------|------------|-------------------|------------|
| **Finality Type** | Spectrum (0-100%) | Binary (finalized/not) | Binary (finalized/not) | Binary (finalized/not) |
| **Threshold** | Dynamic (adapts) | Fixed (2/3) | Fixed (2/3) | Fixed (2/3) |
| **Time to Finality** | Variable (app-defined) | Fixed (~6s) | Fixed (~12-60s) | Fixed (~15 min) |
| **Graceful Degradation** | Yes | No (halts <2/3) | No (halts <2/3) | No (halts <2/3) |
| **Attack Cost** | Exponential growth | Linear | Linear | Linear |

---

## 3. VIRTUAL MACHINE WATTS (VMw)

### The Problem with Gas

**Traditional Gas Models** (Ethereum, etc.):
- Arbitrary units with no physical meaning
- Gas prices fluctuate wildly based on demand
- No correlation to actual computational cost
- Difficult to reason about resource usage

### VMw Solution: Energy-Based Metering

**Core Concept**: Measure computation in **actual energy units** (Watts).

\`\`\`
1 VMw = Computational equivalent of 1 Watt-second of CPU energy
\`\`\`

### Why Energy-Based?

#### 1. Physical Grounding
- Watts are real, measurable units
- Direct correlation to hardware cost
- Predictable and stable over time

#### 2. Economic Rationality
- Validator costs are primarily energy (electricity)
- Fees should roughly match actual cost
- Prevents overcharging or undercharging

#### 3. Cross-Platform Consistency
- Modern CPUs: ~100-200 Watts TDP
- Can normalize across different hardware
- Fair pricing regardless of validator specs

### VMw Computation Model

#### Instruction Weights

Each operation has a VMw cost:

\`\`\`rust
// Basic operations (CPU cycles)
add:        1 VMw    // Simple arithmetic
mul:        2 VMw    // Multiplication
div:        4 VMw    // Division (more complex)
sqrt:       8 VMw    // Square root
crypto:     100 VMw  // Cryptographic operations

// Memory operations (RAM energy)
read:       10 VMw   // Memory read
write:      15 VMw   // Memory write
allocate:   20 VMw   // Memory allocation

// Storage operations (I/O energy)
storage_read:   1000 VMw   // Read from disk/state
storage_write:  2000 VMw   // Write to disk/state

// Network operations
cross_chain_msg: 5000 VMw  // Cross-PBC message
\`\`\`

#### Transaction VMw Limits

\`\`\`
Transfer transaction:           10,000 VMw    (~0.01 √âTR fee)
Simple smart contract call:    100,000 VMw    (~0.10 √âTR fee)
Complex contract (DeFi swap):  500,000 VMw    (~0.50 √âTR fee)
Governance proposal submit:  1,000,000 VMw    (~1.00 √âTR fee)

Block VMw limit:          10,000,000 VMw    (~10M operations/block)
\`\`\`

### VMw ‚Üí √âTR Conversion

**Dynamic Price Oracle**:
\`\`\`
VMw_to_ETR_rate = f(
    validator_energy_cost,  // Real electricity prices
    network_congestion,     // Supply/demand
    treasury_target         // Target fee income
)
\`\`\`

**Example Calculation**:
\`\`\`
Average validator cost: $0.10/kWh electricity
1 kWh = 1,000 Wh = 1,000,000 mW
Target profit margin: 20%

Base rate: 1,000 VMw = 0.001 √âTR

If √âTR = $10:
‚Üí 1,000 VMw costs $0.01
‚Üí Break-even at ~$0.012/kWh validator cost
‚Üí 20% profit margin built in
\`\`\`

### VMw Metering Runtime

**Pre-execution**:
\`\`\`rust
fn execute_transaction(tx: Transaction) -> Result<Receipt, Error> {
    let vmw_limit = tx.vmw_limit;
    let mut vmw_used = 0;

    // Start metering
    let meter = VMwMeter::new(vmw_limit);

    // Execute transaction
    for instruction in tx.instructions {
        vmw_used += instruction.weight();

        if vmw_used > vmw_limit {
            return Err(Error::OutOfVMw);
        }
    }

    // Charge fee
    let fee = vmw_used * vmw_to_etr_rate();
    charge_fee(tx.sender, fee)?;

    Ok(Receipt { vmw_used, fee })
}
\`\`\`

### Benefits of VMw

#### 1. Predictable Costs
- Energy prices change slowly (unlike network demand)
- Validators can accurately price operations
- Users know approximate costs in advance

#### 2. Fair Resource Allocation
- Heavy computations pay proportionally more
- Light operations remain cheap
- Incentivizes efficient smart contract design

#### 3. Economic Sustainability
- Fee income covers validator operational costs
- No subsidized computation
- Network remains economically viable long-term

---

## 4. FLARECHAIN & PARTITION BURST CHAINS

### Architecture Overview

\`\`\`
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  FlareChain    ‚îÇ
                    ‚îÇ  (Root Chain)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ                ‚îÇ                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  BTC-PBC     ‚îÇ  ‚îÇ  ETH-PBC  ‚îÇ  ‚îÇ  EDSC-PBC   ‚îÇ
    ‚îÇ  (Bridge)    ‚îÇ  ‚îÇ  (Bridge) ‚îÇ  ‚îÇ  (Native)   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ                ‚îÇ                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ Bitcoin Net  ‚îÇ  ‚îÇEthereum Net‚îÇ  ‚îÇ Treasury    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

### FlareChain (Root Coordination Layer)

**Purpose**: Coordination hub for all PBCs

**Responsibilities**:
1. **Consensus**: Runs ASF for entire network
2. **Cross-Chain Routing**: Routes messages between PBCs
3. **State Anchoring**: Stores merkle roots from all PBCs
4. **Governance**: Hosts Consensus Day runtime
5. **Treasury**: Manages global fiscal state

**Block Structure**:
\`\`\`rust
struct FlareBlock {
    header: FlareBlockHeader,
    extrinsics: Vec<Extrinsic>,
    pbc_roots: HashMap<PbcId, StateRoot>,
    governance_digest: Option<GovernanceDigest>,
}

struct FlareBlockHeader {
    parent_hash: H256,
    number: BlockNumber,
    state_root: H256,
    extrinsics_root: H256,
    timestamp: Timestamp,
    validator: ValidatorId,
    asf_signatures: Vec<AsfSignature>,
}
\`\`\`

**Block Time**: ~6 seconds
**Finality**: ASF (60s for 95%)
**Throughput**: 1,000+ TPS (10M VMw/block limit)

### Partition Burst Chains (PBCs)

**Purpose**: Specialized sovereign runtimes for specific domains

**Initial Design: 12 PBCs** (expandable based on governance vote)

The original ivory paper specified 12 Partitioned Burst Chains. The network has been expanded to include additional chains based on ecosystem needs:

1. **BTC-PBC**: Bitcoin bridge (SPV proofs)
2. **ETH-PBC**: Ethereum bridge (event logs)
3. **DOGE-PBC**: Dogecoin bridge
4. **SOL-PBC**: Solana bridge (state proofs)
5. **XLM-PBC**: Stellar bridge (federation)
6. **XRP-PBC**: Ripple bridge (payment channels)
7. **BNB-PBC**: Binance Chain bridge
8. **TRX-PBC**: Tron bridge (TRC-20)
9. **ADA-PBC**: Cardano bridge (UTxO proofs)
10. **LINK-PBC**: Chainlink integration (oracles)
11. **MATIC-PBC**: Polygon bridge (plasma)
12. **USDT-PBC**: Tether multi-chain bridge
13. **EDSC-PBC**: √ãtrid Dollar stablecoin (native) *(expansion from original 12)*

**Note**: The network currently operates 13 PBCs, with EDSC-PBC added to support the native stablecoin. Additional PBCs may be added through governance proposals.

### PBC Architecture

**Each PBC has**:
- Independent runtime (specialized for domain)
- Own collator set (validators specific to that PBC)
- Native token for operations (if needed)
- Bridge logic for external chain
- State checkpoint to FlareChain every 100 blocks

**Example: BTC-PBC Structure**
\`\`\`rust
struct BtcPbcRuntime {
    // Bitcoin SPV verification
    spv_verifier: SpvVerifier,

    // Bitcoin headers stored on-chain
    bitcoin_headers: Vec<BitcoinHeader>,

    // Pending BTC ‚Üí √âTR swaps
    pending_swaps: HashMap<SwapId, BtcSwap>,

    // FlareChain synchronization
    last_flare_checkpoint: BlockNumber,
}

struct BtcSwap {
    bitcoin_txid: BitcoinTxId,
    amount_btc: u64,
    recipient_etr: AccountId,
    confirmations: u32,
    status: SwapStatus,
}
\`\`\`

### Cross-Chain Message Passing

**Step 1**: PBC sends message to FlareChain
\`\`\`rust
fn send_cross_chain_message(
    origin_pbc: PbcId,
    dest_pbc: PbcId,
    message: Vec<u8>
) -> Result<(), Error> {
    // Validate message
    ensure!(message.len() <= MAX_MESSAGE_SIZE, Error::MessageTooLarge);

    // Calculate VMw cost
    let vmw_cost = calculate_message_cost(message.len());
    charge_vmw(origin_pbc, vmw_cost)?;

    // Submit to FlareChain message queue
    FlareChain::enqueue_message(CrossChainMessage {
        origin: origin_pbc,
        destination: dest_pbc,
        payload: message,
        timestamp: now(),
    })?;

    Ok(())
}
\`\`\`

**Step 2**: FlareChain routes to destination PBC
\`\`\`rust
fn route_messages() {
    for msg in pending_messages {
        // Verify origin PBC signature
        ensure!(verify_pbc_signature(&msg), "Invalid signature");

        // Forward to destination PBC
        Pbc::deliver_message(msg.destination, msg)?;

        // Update state root
        update_state_root(msg.destination);
    }
}
\`\`\`

**Step 3**: Destination PBC processes message
\`\`\`rust
fn process_message(msg: CrossChainMessage) {
    match msg.payload {
        Payload::TokenTransfer { amount, recipient } => {
            mint_tokens(recipient, amount)?;
        }
        Payload::ContractCall { contract, data } => {
            execute_contract(contract, data)?;
        }
        _ => {}
    }
}
\`\`\`

### State Synchronization

**Every 100 PBC blocks**:
1. PBC computes merkle root of current state
2. PBC submits root to FlareChain
3. Validity nodes verify root correctness
4. FlareChain stores root in PBC registry
5. Other PBCs can reference this root for cross-chain operations

**State Root Structure**:
\`\`\`rust
struct PbcStateRoot {
    pbc_id: PbcId,
    block_number: BlockNumber,
    state_root: H256,
    timestamp: Timestamp,
    collator_signatures: Vec<Signature>,
    validity_attestations: Vec<ValidityAttestation>,
}
\`\`\`

---

## 4.7. RESERVE-BACKED ASSETS & DEX INFRASTRUCTURE

### Overview

To support the EDSC stablecoin and broader DeFi ecosystem, FlareChain includes specialized infrastructure for reserve management, synthetic asset creation, and decentralized exchange functionality.

**Components**:
1. **pallet-multiasset-reserve**: Multi-asset treasury management with automated rebalancing
2. **pallet-reserve-backed-token**: Synthetic token creation with collateral management
3. **FlareSwap DEX Core**: Automated market maker (AMM) with liquidity pools
4. **FlareSwap DEX Periphery**: Routing and helper contracts for optimal trade execution

### 4.7.1. Multi-Asset Reserve (pallet-multiasset-reserve)

**Purpose**: Manage diversified reserve assets backing EDSC and other synthetic tokens

**Architecture**:
\`\`\`rust
pub struct AssetConfig {
    pub asset_id: AssetId,
    pub target_allocation: Permill,  // Target percentage of total reserve
    pub current_balance: Balance,
    pub oracle_price: u128,          // Price in USD (6 decimals)
    pub last_rebalance: BlockNumber,
}

pub enum AllocationStrategy {
    EqualWeight = 0,        // Equal distribution across assets
    MarketCapWeighted = 1,  // Weight by market capitalization
    RiskAdjusted = 2,       // Weight by volatility/risk metrics
    Custom = 3,             // Custom weights set by governance
}
\`\`\`

**Storage Items** (8 total):
- \`AssetConfigs\`: Configuration for each reserve asset
- \`ReserveComposition\`: Current holdings per asset
- \`CurrentStrategy\`: Active allocation strategy (stored as u8)
- \`TotalReserveValue\`: Aggregate USD value of reserve
- \`WhitelistedAssets\`: Approved assets for reserve inclusion
- \`AssetCount\`: Number of assets in reserve
- \`LastRebalance\`: Timestamp of last rebalancing operation
- \`RebalancingEnabled\`: Global rebalancing on/off switch

**Key Operations**:

1. **Asset Management**:
\`\`\`rust
// Add new asset to reserve
pub fn add_asset(
    origin: OriginFor<T>,
    asset_id: AssetId,
    target_allocation: Permill,
) -> DispatchResult;

// Remove asset from reserve
pub fn remove_asset(
    origin: OriginFor<T>,
    asset_id: AssetId,
) -> DispatchResult;
\`\`\`

2. **Rebalancing**:
\`\`\`rust
// Automated rebalancing based on target allocations
pub fn trigger_rebalance(origin: OriginFor<T>) -> DispatchResult;

// Rebalancing triggers when:
// - Deviation exceeds threshold (default: 5%)
// - Sufficient time elapsed since last rebalance (default: 14,400 blocks ~24h)
\`\`\`

3. **Strategy Management**:
\`\`\`rust
pub fn set_allocation_strategy(
    origin: OriginFor<T>,
    strategy_code: u8,  // 0=EqualWeight, 1=MarketCap, 2=RiskAdjusted, 3=Custom
) -> DispatchResult;
\`\`\`

**Runtime Configuration**:
\`\`\`rust
parameter_types! {
    pub const MaxReserveAssets: u32 = 50;
    pub const RebalanceIntervalBlocks: u32 = 14_400;  // ~24 hours
    pub const RebalanceThreshold: Permill = Permill::from_percent(5);
    pub const MultiassetReservePalletId: PalletId = PalletId(*b"py/marve");
}
\`\`\`

**Events**:
- \`AssetAdded\`: New asset added to reserve
- \`AssetRemoved\`: Asset removed from reserve
- \`RebalanceExecuted\`: Automated rebalancing completed
- \`StrategyChanged\`: Allocation strategy updated
- \`DepositReceived\`: Funds deposited to reserve
- \`WithdrawalExecuted\`: Funds withdrawn from reserve

### 4.7.2. Reserve-Backed Token (pallet-reserve-backed-token)

**Purpose**: Create synthetic tokens backed by multi-asset collateral with over-collateralization requirements

**Core Structures**:
\`\`\`rust
pub struct SyntheticToken {
    pub symbol: BoundedVec<u8, ConstU32<16>>,
    pub name: BoundedVec<u8, ConstU32<64>>,
    pub decimals: u8,
    pub min_collateral_ratio: u16,  // Basis points: 15000 = 150%
    pub liquidation_ratio: u16,      // Basis points: 12000 = 120%
    pub total_supply: u128,
    pub is_active: bool,
    pub created_at: u32,
}

pub struct CollateralPosition<Balance> {
    pub synthetic_id: u32,
    pub collateral_amount: Balance,
    pub synthetic_minted: u128,
    pub last_update: u32,
}
\`\`\`

**Collateralization Model**:

EDSC and other synthetic tokens require over-collateralization to maintain peg stability:

\`\`\`
Minimum Collateral Ratio: 150%
Liquidation Threshold:     120%
Liquidation Penalty:       5%

Example:
To mint 1000 EDSC ($1000 value):
‚Üí Requires: $1500 in √âTR collateral (150%)
‚Üí Liquidated if collateral falls to $1200 (120%)
‚Üí Liquidator receives: $1200 + 5% penalty = $1260
‚Üí Position holder loses: $60
\`\`\`

**Key Operations**:

1. **Token Lifecycle**:
\`\`\`rust
// Create new synthetic token type
pub fn create_synthetic(
    origin: OriginFor<T>,
    symbol: Vec<u8>,
    name: Vec<u8>,
    decimals: u8,
    min_collateral_ratio: u16,
    liquidation_ratio: u16,
) -> DispatchResult;

// Deactivate synthetic token (no new minting)
pub fn deactivate_synthetic(
    origin: OriginFor<T>,
    synthetic_id: u32,
) -> DispatchResult;
\`\`\`

2. **Minting & Burning**:
\`\`\`rust
// Mint synthetic tokens by locking collateral
pub fn mint_synthetic(
    origin: OriginFor<T>,
    synthetic_id: u32,
    collateral_amount: BalanceOf<T>,
    synthetic_amount: u128,
) -> DispatchResult;

// Burn synthetic tokens to reclaim collateral
pub fn burn_synthetic(
    origin: OriginFor<T>,
    synthetic_id: u32,
    synthetic_amount: u128,
) -> DispatchResult;
\`\`\`

3. **Collateral Management**:
\`\`\`rust
// Add more collateral to existing position
pub fn add_collateral(
    origin: OriginFor<T>,
    synthetic_id: u32,
    amount: BalanceOf<T>,
) -> DispatchResult;

// Liquidate undercollateralized positions
pub fn liquidate_position(
    origin: OriginFor<T>,
    account: T::AccountId,
    synthetic_id: u32,
) -> DispatchResult;
\`\`\`

**Storage Items** (6 total):
- \`SyntheticTokens\`: Metadata for each synthetic token type
- \`CollateralPositions\`: User collateral positions per synthetic
- \`NextSyntheticId\`: Auto-incrementing ID for new synthetics
- \`TotalCollateral\`: Aggregate collateral locked per synthetic
- \`UserPositions\`: Mapping of user ‚Üí synthetic positions
- \`LiquidationHistory\`: Record of liquidation events

**Runtime Configuration**:
\`\`\`rust
parameter_types! {
    pub const MaxSyntheticTokens: u32 = 100;
    pub const MaxPositionsPerUser: u32 = 50;
    pub const MinCollateralAmount: u128 = 1_000_000_000_000;  // 1 √âTR minimum
    pub const LiquidationPenaltyPercent: u16 = 500;  // 5%
    pub const ReserveBackedTokenPalletId: PalletId = PalletId(*b"py/rbtok");
}
\`\`\`

**Price Oracle Integration**:

The pallet relies on price oracles to determine collateralization ratios:

\`\`\`rust
// Oracle provides real-time pricing
pub trait PriceOracle {
    fn get_price(asset_id: AssetId) -> Option<u128>;  // Returns price in USD (6 decimals)
}

// Collateralization check
fn check_collateral_ratio(position: &CollateralPosition) -> Permill {
    let collateral_value_usd = position.collateral_amount * oracle::get_price(ETR);
    let debt_value_usd = position.synthetic_minted * oracle::get_price(synthetic_id);

    Permill::from_rational(collateral_value_usd, debt_value_usd)
}
\`\`\`

### 4.7.3. FlareSwap DEX - Core Infrastructure

**Purpose**: Decentralized exchange for √âTR, EDSC, and synthetic assets using automated market maker (AMM) model

**Architecture**: Uniswap V2-inspired constant product formula (x √ó y = k)

**Components**:

1. **FlareSwap Factory** (\`FlareSwapFactory.sol\`)
   - Creates new trading pairs
   - Tracks all pair contracts
   - Manages protocol fees

2. **FlareSwap Pair** (\`FlareSwapPair.sol\`)
   - Implements liquidity pool for token pair
   - Handles swaps using constant product formula
   - Distributes LP fees to liquidity providers

3. **FlareSwap ERC20** (\`FlareSwapERC20.sol\`)
   - LP token implementation
   - Represents liquidity provider shares
   - Standard ERC20 with permit functionality

**Constant Product Formula**:
\`\`\`solidity
// For any swap, the product of reserves must remain constant
x * y = k

// Where:
// x = reserve of token A
// y = reserve of token B
// k = constant (invariant)

// Example swap:
// Initial state: 100 ETR √ó 1000 EDSC = 100,000
// User swaps 10 ETR ‚Üí receives 90.9 EDSC
// Final state: 110 ETR √ó 909.1 EDSC ‚âà 100,000 (minus 0.3% fee)
\`\`\`

**Key Operations**:

1. **Liquidity Provision**:
\`\`\`solidity
// Add liquidity to pool (mints LP tokens)
function addLiquidity(
    address tokenA,
    address tokenB,
    uint amountADesired,
    uint amountBDesired,
    uint amountAMin,
    uint amountBMin,
    address to,
    uint deadline
) external returns (uint amountA, uint amountB, uint liquidity);

// Remove liquidity (burns LP tokens)
function removeLiquidity(
    address tokenA,
    address tokenB,
    uint liquidity,
    uint amountAMin,
    uint amountBMin,
    address to,
    uint deadline
) external returns (uint amountA, uint amountB);
\`\`\`

2. **Token Swapping**:
\`\`\`solidity
// Swap exact input amount for minimum output
function swapExactTokensForTokens(
    uint amountIn,
    uint amountOutMin,
    address[] calldata path,
    address to,
    uint deadline
) external returns (uint[] memory amounts);

// Swap for exact output using maximum input
function swapTokensForExactTokens(
    uint amountOut,
    uint amountInMax,
    address[] calldata path,
    address to,
    uint deadline
) external returns (uint[] memory amounts);
\`\`\`

**Fee Structure**:
- **Swap Fee**: 0.3% of each trade
  - 0.25% ‚Üí Liquidity providers (via LP token value appreciation)
  - 0.05% ‚Üí Protocol treasury (for development/operations)

**Price Impact**:
\`\`\`
Price Impact = (amountIn / reserveIn) √ó 100%

Examples:
- Swap 1 √âTR in 1000 √âTR pool ‚Üí 0.1% impact (negligible)
- Swap 50 √âTR in 1000 √âTR pool ‚Üí 5% impact (moderate)
- Swap 100 √âTR in 1000 √âTR pool ‚Üí 10% impact (high slippage)
\`\`\`

### 4.7.4. FlareSwap DEX - Periphery Contracts

**Purpose**: User-facing contracts that simplify interaction with core DEX

**Components**:

1. **FlareSwap Router** (\`FlareSwapRouter.sol\`)
   - Simplifies multi-hop swaps
   - Handles slippage protection
   - Manages deadline enforcement
   - Wraps/unwraps native √âTR

2. **FlareSwap Library** (\`FlareSwapLibrary.sol\`)
   - Price calculation utilities
   - Quote functions for UI/bots
   - Optimal path finding for multi-hop trades

3. **WETH Wrapper** (\`WETH.sol\`)
   - Wraps native √âTR into ERC20-compatible WETR
   - Required for √âTR trading on DEX
   - 1:1 peg with native √âTR

**Router Functions**:

1. **Multi-Hop Trading**:
\`\`\`solidity
// Optimal routing through multiple pairs
// Example: √âTR ‚Üí EDSC ‚Üí USDT (saves fees vs direct pool)
function swapExactTokensForTokens(
    uint amountIn,
    uint amountOutMin,
    address[] calldata path,  // [√âTR, EDSC, USDT]
    address to,
    uint deadline
) external returns (uint[] memory amounts);
\`\`\`

2. **Price Quotes**:
\`\`\`solidity
// Get quote for exact input
function getAmountsOut(
    uint amountIn,
    address[] memory path
) public view returns (uint[] memory amounts);

// Get quote for exact output (reverse calculation)
function getAmountsIn(
    uint amountOut,
    address[] memory path
) public view returns (uint[] memory amounts);
\`\`\`

3. **Native √âTR Support**:
\`\`\`solidity
// Swap √âTR for tokens (auto-wraps to WETR)
function swapExactETRForTokens(
    uint amountOutMin,
    address[] calldata path,
    address to,
    uint deadline
) external payable returns (uint[] memory amounts);

// Swap tokens for √âTR (auto-unwraps WETR)
function swapExactTokensForETR(
    uint amountIn,
    uint amountOutMin,
    address[] calldata path,
    address to,
    uint deadline
) external returns (uint[] memory amounts);
\`\`\`

**Library Utilities**:
\`\`\`solidity
library FlareSwapLibrary {
    // Calculate output amount given input
    function getAmountOut(
        uint amountIn,
        uint reserveIn,
        uint reserveOut
    ) internal pure returns (uint amountOut);

    // Calculate required input for desired output
    function getAmountIn(
        uint amountOut,
        uint reserveIn,
        uint reserveOut
    ) internal pure returns (uint amountIn);

    // Sort tokens (deterministic pair ordering)
    function sortTokens(
        address tokenA,
        address tokenB
    ) internal pure returns (address token0, address token1);
}
\`\`\`

### Implementation Status

**‚úÖ Completed Components**:
1. pallet-multiasset-reserve (~670 lines)
   - All 8 storage items
   - All 8 extrinsics
   - Runtime integration complete

2. pallet-reserve-backed-token (~850 lines)
   - All 6 storage items
   - All 6 extrinsics
   - Collateralization logic implemented
   - Runtime integration complete

3. FlareSwap DEX Core (~881 lines total)
   - Factory contract (interface + implementation)
   - Pair contract (AMM logic)
   - ERC20 LP token contract

4. FlareSwap DEX Periphery (completed in parallel terminal)
   - Router contract with multi-hop support
   - Library with price calculation utilities
   - WETH wrapper for native √âTR

**Runtime Integration**:

All components integrated into FlareChain runtime at \`05-multichain/flare-chain/runtime/src/lib.rs\`:

\`\`\`rust
// Reserve infrastructure
MultiassetReserve: pallet_multiasset_reserve,
ReserveBackedToken: pallet_reserve_backed_token,

// DEX deployed as smart contracts on √ãtwasmVM
// (not runtime pallets, but WASM contracts)
\`\`\`

**Code Metrics**:
- Total new code: ~2,400+ lines
- Test coverage: Integration tests pending
- Documentation: Technical specs complete
- Audit status: Pre-audit (requires security review)

### Economic Impact

**Reserve Diversification**:
- EDSC backed by multi-asset reserve (not just √âTR)
- Reduced correlation risk
- Automated rebalancing maintains target allocations

**Synthetic Assets**:
- Over-collateralized positions prevent undercollateralization
- Liquidation mechanism protects peg stability
- Enables creation of diverse synthetic assets (stocks, commodities, indices)

**DEX Liquidity**:
- Native √âTR/EDSC trading without external bridges
- LP incentives encourage liquidity provision
- 0.3% fee generates sustainable yield for LPs

**Capital Efficiency**:
- Collateral can back multiple synthetic positions
- DEX enables efficient price discovery
- Arbitrage bots maintain peg stability

### Security Considerations

**Reserve Security**:
- Multi-asset reduces single-asset risk
- Rebalancing limits handled by governance
- Oracle manipulation resistance via multiple price sources

**Collateral Liquidations**:
- 30% buffer (150% min, 120% liquidation) provides safety margin
- Liquidation penalty (5%) incentivizes position maintenance
- Automated liquidation bots ensure timely execution

**DEX Security**:
- Constant product formula prevents price manipulation
- Reentrancy protection on all state-changing functions
- Slippage limits protect against front-running
- Deadline enforcement prevents stale transactions

---

## 5. CROSS-CHAIN SECURITY & VALIDITY NODES

### The Bridge Problem

**Traditional Bridges**:
- Trusted multi-sig custodians (honeypot for hackers)
- Off-chain verification (opaque)
- Single point of failure
- Billions lost to bridge hacks (2021-2024)

### √ãtrid Solution: Native Cross-Chain Verification

**No external bridges. No trusted custodians.**

### Validity Nodes (VALIDITY Nodes)

**Role**: Verify cross-chain proofs and PBC state roots, participate in consensus on Partition Burst Chains

**Requirements**:
- **Minimum stake: 64 √âTR**
- Hardware: 8-core CPU, 32GB RAM, 1TB SSD, 1Gbps network
- Uptime: >98% (measured over 30-day rolling window)
- Must run full nodes for FlareChain + ‚â•1 PBC

**Node Statuses**:
- **Registered**: Node has staked 64+ √âTR and registered identity
- **Pending**: Awaiting selection for active validator set
- **Sequenced**: Active validator participating in consensus
- **Chilled**: Temporarily inactive due to performance issues
- **De-Sequenced**: Removed from active set (can re-enter after resolution)
- **Re-Sequenced**: Returned to active validator set after fixing issues

**Responsibilities**:
1. Monitor all PBC state submissions to FlareChain
2. Verify merkle proofs against submitted roots
3. Attest to validity or flag discrepancies
4. Participate in dispute resolution
5. Produce blocks on assigned PBCs
6. Maintain cross-chain state synchronization

**Incentives**:
- Earn rewards for correct attestations
- Earn block production rewards
- Slashed for false attestations
- Higher reputation = more weight

**Architecture**:
\`\`\`rust
struct ValidityNode {
    did: DecentralizedId,
    stake: Balance,
    reputation: ReputationScore,
    monitored_pbcs: Vec<PbcId>,
}

fn verify_pbc_state_root(
    pbc_id: PbcId,
    claimed_root: H256,
    block_number: BlockNumber
) -> AttestationResult {
    // Fetch actual PBC state
    let pbc_state = fetch_pbc_state(pbc_id, block_number)?;

    // Compute merkle root locally
    let computed_root = compute_state_root(&pbc_state);

    // Compare
    if computed_root == claimed_root {
        AttestationResult::Valid
    } else {
        AttestationResult::Invalid {
            expected: computed_root,
            actual: claimed_root,
        }
    }
}
\`\`\`

### Multi-Sig Custodians (Where Unavoidable)

For external chain bridges (BTC, ETH), some trusted elements unavoidable.

**Mitigation Strategy**:
\`\`\`
M-of-N Multi-Sig:
- M = 7 (threshold)
- N = 10 (total custodians)
- Geographic distribution: 5 continents
- Entity distribution: Independent operators
- Key rotation: Every 6 months
- Slashing: Loss of stake for misbehavior
\`\`\`

**Example: BTC-PBC Custodian Set**:
\`\`\`rust
struct MultisigCustodian {
    pubkey: BitcoinPublicKey,
    operator: AccountId,
    stake: Balance,
    jurisdiction: String,
    last_rotation: Timestamp,
}

fn verify_btc_transaction(
    tx: BitcoinTransaction,
    required_sigs: u8
) -> Result<(), Error> {
    let sigs = extract_signatures(&tx);
    ensure!(sigs.len() >= required_sigs, Error::InsufficientSignatures);

    // Verify each signature against custodian set
    for sig in sigs {
        let custodian = find_custodian(sig.pubkey)?;
        ensure!(verify_signature(sig), Error::InvalidSignature);
    }

    Ok(())
}
\`\`\`

### Security Guarantees

**Byzantine Fault Tolerance**:
- Tolerate up to 1/3 malicious validators
- Require 2/3+ agreement for finalization
- Slashing for provably malicious behavior

**Economic Security**:
\`\`\`
Attack Cost = Stake √ó SlashingRatio √ó (1 + ReputationPenalty)

Example:
- Validator stake: 1M √âTR
- Slashing ratio: 100% (full slash)
- Reputation penalty: 50% (future earnings lost)
‚Üí Attack cost: 1.5M √âTR
\`\`\`

---

## 6. ETWASMVM & SMART CONTRACT RUNTIME

### EtwasmVM Overview

**WebAssembly-based virtual machine** optimized for:
- Deterministic execution
- Post-quantum security
- VMw metering
- Reentrancy protection

### Why WASM?

**Advantages over EVM**:
- Near-native performance (~90% of native)
- Multiple source languages (Rust, C, AssemblyScript)
- Industry-standard tooling
- Smaller bytecode size
- Better optimization opportunities

**Security Enhancements**:
- Bounded execution (no infinite loops)
- Memory safety (no buffer overflows)
- Sandboxed execution (no syscalls)
- Resource metering (VMw tracking)

### Contract Structure

**Example Contract** (Pseudo-Rust/ink!):
\`\`\`rust
#[etrid::contract]
mod token {
    use etrid_contract::*;

    #[state]
    pub struct Token {
        total_supply: Balance,
        balances: Mapping<AccountId, Balance>,
        allowances: Mapping<(AccountId, AccountId), Balance>,
    }

    #[constructor]
    pub fn new(initial_supply: Balance) -> Self {
        let caller = Self::env().caller();
        let mut balances = Mapping::default();
        balances.insert(caller, &initial_supply);

        Self {
            total_supply: initial_supply,
            balances,
            allowances: Mapping::default(),
        }
    }

    #[message]
    pub fn transfer(&mut self, to: AccountId, amount: Balance) -> Result<()> {
        let from = self.env().caller();
        self.transfer_impl(from, to, amount)
    }

    fn transfer_impl(
        &mut self,
        from: AccountId,
        to: AccountId,
        amount: Balance
    ) -> Result<()> {
        let from_balance = self.balance_of(from);
        ensure!(from_balance >= amount, Error::InsufficientBalance);

        self.balances.insert(from, &(from_balance - amount));
        let to_balance = self.balance_of(to);
        self.balances.insert(to, &(to_balance + amount));

        self.env().emit_event(Transfer { from, to, amount });
        Ok(())
    }
}
\`\`\`

### Reentrancy Protection

**Built-in runtime check**:
\`\`\`rust
thread_local! {
    static CALL_STACK: RefCell<Vec<ContractId>> = RefCell::new(Vec::new());
}

fn execute_contract(contract: ContractId, data: Vec<u8>) -> Result<Vec<u8>> {
    // Check for reentrancy
    CALL_STACK.with(|stack| {
        if stack.borrow().contains(&contract) {
            return Err(Error::ReentrancyDetected);
        }
        stack.borrow_mut().push(contract);
    });

    // Execute
    let result = run_wasm(contract, data);

    // Pop call stack
    CALL_STACK.with(|stack| stack.borrow_mut().pop());

    result
}
\`\`\`

### VMw Metering Integration

**Injected into WASM bytecode**:
\`\`\`wasm
;; Original: (i32.add (local.get 0) (local.get 1))
;; Metered:
(call $charge_vmw (i32.const 1))  ;; Charge 1 VMw for add
(i32.add (local.get 0) (local.get 1))
\`\`\`

**Runtime metering**:
\`\`\`rust
static mut VMW_REMAINING: u64 = 0;

fn charge_vmw(amount: u64) {
    unsafe {
        if VMW_REMAINING < amount {
            panic!("Out of VMw");
        }
        VMW_REMAINING -= amount;
    }
}
\`\`\`

---

## 7. NETWORK & P2P LAYER (DETR)

### DETR P2P Protocol

**DETR** = Distributed √ãtrid Transaction Relay

**Based on**:
- libp2p for transport
- S/Kademlia for DHT
- ECIES for encryption
- Gossipsub for message propagation

### Network Topology

**Three Layers**:

1. **Validator Network** (FlareChain)
   - Full mesh between validators
   - Low latency requirements (<100ms)
   - Authenticated connections (Ed25519)

2. **Collator Networks** (PBCs)
   - Star topology around FlareChain validators
   - Periodic state synchronization
   - Cross-PBC messaging via FlareChain

3. **Public Network** (Light Clients)
   - Connect to any validator/collator
   - DHT for peer discovery
   - Receive block headers only

### Message Types

\`\`\`rust
enum NetworkMessage {
    // Block propagation
    NewBlock(Block),
    BlockRequest(BlockNumber),
    BlockResponse(Block),

    // Transaction pool
    NewTransaction(Transaction),
    TransactionRequest(TxHash),

    // Consensus
    AsfSignature(AsfSignature),
    ValidatorHeartbeat(ValidatorId),

    // Cross-chain
    CrossChainMessage(CrossChainMessage),
    StateRootSubmission(PbcStateRoot),
}
\`\`\`

### Lightning-Bloc (Layer 2)

**Payment channels** for instant, low-fee transactions:

**Channel Lifecycle**:
1. **Open**: Lock funds in on-chain contract
2. **Transact**: Off-chain signed updates
3. **Close**: Submit final state on-chain
4. **Dispute**: Time-locked challenge period

**Multi-hop routing**:
\`\`\`
Alice ‚Üí Bob ‚Üí Carol ‚Üí Dave
  2 √âTR   2 √âTR   2 √âTR
\`\`\`

**Watchtowers**: Monitor channels for fraud attempts

---

## 8. CRYPTOGRAPHIC PRIMITIVES & POST-QUANTUM SECURITY

### Current Cryptography

**Signing**: Ed25519 (Curve25519)
- Public key: 32 bytes
- Signature: 64 bytes
- Fast verification (~60k sigs/sec)

**Hashing**: BLAKE3
- Output: 32 bytes
- Speed: 10 GB/s per core
- Merkle tree optimized

**Encryption**: ChaCha20-Poly1305
- Symmetric AEAD cipher
- Nonce: 12 bytes
- Tag: 16 bytes

### Post-Quantum Migration Path

**Hybrid Scheme** (Current + PQ):
\`\`\`
Signature = Ed25519_Sign(msg) || Dilithium_Sign(msg)
Verification = Ed25519_Verify() AND Dilithium_Verify()
\`\`\`

**PQ Algorithms** (NIST selected):
- **Signing**: CRYSTALS-Dilithium (lattice-based)
- **KEM**: CRYSTALS-Kyber (key encapsulation)
- **Alternative**: SPHINCS+ (hash-based signatures)

**Migration Timeline**:
- 2025: Hybrid support added (optional)
- 2026: Hybrid enabled by default
- 2027: PQ-only mode available
- 2028+: Transition to PQ-only (if quantum threat emerges)

---

## 9. IMPLEMENTATION GAP ANALYSIS

### Overview

This section documents components specified in the Ivory Papers that require additional implementation work. While the E¬≥20 architecture is complete at the alpha stage, several advanced features require further development before mainnet launch.

### 9.1. VMw Metering Runtime ‚ö†Ô∏è PARTIAL IMPLEMENTATION

**Status**: Specification complete, runtime implementation incomplete

**What's Described** (Section 3):
- Energy-based computation metering (1 VMw = 1 Watt-second)
- Instruction-level weight assignments
- Dynamic VMw ‚Üí √âTR price oracle
- Pre-execution metering with runtime enforcement

**What's Missing**:
1. **VMw Injector**: WASM bytecode instrumentation to inject metering calls
2. **Instruction Weight Database**: Comprehensive mapping of WASM opcodes to VMw costs
3. **Dynamic Price Oracle**: Real-time VMw ‚Üí √âTR conversion based on network conditions
4. **Execution Metering**: Runtime enforcement of VMw limits during transaction execution

**Implementation Priority**: HIGH (required for mainnet)

**Recommended Approach**:
\`\`\`rust
// Required components:

// 1. VMw Weight Database
pub struct InstructionWeights {
    add: u64,           // 1 VMw
    mul: u64,           // 2 VMw
    div: u64,           // 4 VMw
    crypto_hash: u64,   // 100 VMw
    storage_read: u64,  // 1000 VMw
    storage_write: u64, // 2000 VMw
    // ... complete mapping
}

// 2. WASM Instrumentation
pub fn inject_metering(wasm_module: &[u8]) -> Result<Vec<u8>, Error> {
    // Parse WASM module
    // Inject VMw charging before each instruction
    // Return instrumented bytecode
}

// 3. Runtime Metering
pub struct VMwMeter {
    limit: u64,
    used: u64,
}

impl VMwMeter {
    pub fn charge(&mut self, amount: u64) -> Result<(), OutOfVMw> {
        if self.used + amount > self.limit {
            return Err(OutOfVMw);
        }
        self.used += amount;
        Ok(())
    }
}
\`\`\`

**Estimated Work**: 2-3 weeks for experienced WASM developer

**Location**: \`08-etwasm-vm/vmw-metering/\` (needs creation)

### 9.2. √ãtwasmVM Contract Runtime ‚ö†Ô∏è PARTIAL IMPLEMENTATION

**Status**: Architecture defined, runtime incomplete

**What's Described** (Section 6):
- WebAssembly-based smart contract execution
- VMw metering integration
- Reentrancy protection
- Contract state management
- Multi-language support (Rust, C, AssemblyScript)

**What's Missing**:
1. **Contract Deployment**: Upload and instantiate WASM contracts
2. **Contract Calls**: Inter-contract communication
3. **State Persistence**: Storage rent and garbage collection
4. **Gas Refunds**: Unused VMw refund mechanism
5. **Contract Upgradeability**: Proxy pattern support

**Implementation Priority**: HIGH (required for mainnet)

**Recommended Approach**:

Use existing Substrate pallets as foundation:
- \`pallet-contracts\`: Substrate's WASM contract pallet
- Customize for VMw metering (replace gas with VMw)
- Add reentrancy guards
- Implement storage rent model

**Estimated Work**: 4-6 weeks

**Location**: \`08-etwasm-vm/pallet/src/lib.rs\` (exists but needs completion)

### 9.3. Lightning-Bloc (Layer 2) ‚ö†Ô∏è NOT IMPLEMENTED

**Status**: Conceptual design only, no implementation

**What's Described** (Section 7):
- Payment channel network for instant, low-fee transactions
- Multi-hop routing
- Watchtower services for fraud prevention
- Time-locked dispute resolution

**What's Missing**:
1. **Channel Opening**: On-chain contract for locking funds
2. **Off-Chain Updates**: Signed state updates between parties
3. **Channel Closing**: Submit final state or trigger dispute
4. **Routing Protocol**: Path-finding for multi-hop payments
5. **Watchtowers**: Monitor channels for fraud attempts

**Implementation Priority**: MEDIUM (post-mainnet enhancement)

**Recommended Approach**:

Adapt existing Lightning Network concepts:
\`\`\`rust
pub struct PaymentChannel {
    pub participants: (AccountId, AccountId),
    pub capacity: Balance,
    pub balances: (Balance, Balance),
    pub nonce: u64,
    pub timeout: BlockNumber,
    pub status: ChannelStatus,
}

pub enum ChannelStatus {
    Open,
    Disputed,
    Closed,
}

// Extrinsics
pub fn open_channel(counterparty: AccountId, amount: Balance);
pub fn close_channel(channel_id: H256, final_state: ChannelState);
pub fn dispute_close(channel_id: H256, newer_state: ChannelState);
\`\`\`

**Estimated Work**: 8-12 weeks for full implementation

**Location**: \`07-transactions/lightning-bloc/\` (exists as placeholder)

### 9.4. Post-Quantum Cryptography ‚ö†Ô∏è NOT IMPLEMENTED

**Status**: Migration path defined, no implementation

**What's Described** (Section 8):
- Hybrid signature scheme (Ed25519 + Dilithium)
- CRYSTALS-Kyber for key encapsulation
- SPHINCS+ as alternative hash-based signature
- Phased migration timeline (2025-2028)

**What's Missing**:
1. **Hybrid Signing**: Dual signature verification
2. **Key Derivation**: Generate both classical and PQ keys
3. **Migration Tools**: Convert existing accounts to hybrid mode
4. **Performance Testing**: Benchmark PQ signature verification
5. **Storage Overhead**: Handle larger signature sizes (Ed25519: 64 bytes ‚Üí Dilithium: 2420 bytes)

**Implementation Priority**: LOW (future-proofing, not immediate threat)

**Recommended Approach**:

Use NIST-selected PQ algorithms:
\`\`\`rust
pub enum SignatureScheme {
    Ed25519,                          // Current (32 byte pubkey, 64 byte sig)
    Hybrid(Ed25519, Dilithium2),      // Transition (verify both)
    Dilithium2,                       // Future PQ-only (1312 byte pubkey, 2420 byte sig)
}

pub fn verify_hybrid(
    message: &[u8],
    ed25519_sig: &[u8; 64],
    dilithium_sig: &[u8; 2420],
    pubkey: &HybridPublicKey,
) -> bool {
    verify_ed25519(message, ed25519_sig, &pubkey.ed25519)
        && verify_dilithium(message, dilithium_sig, &pubkey.dilithium)
}
\`\`\`

**Estimated Work**: 6-8 weeks

**Location**: \`03-security/post-quantum/\` (needs creation)

**Crate Dependencies**:
- \`pqcrypto-dilithium\`
- \`pqcrypto-kyber\`
- \`pqcrypto-sphincsplus\`

### 9.5. Cross-Chain Oracle Network ‚ö†Ô∏è PARTIAL IMPLEMENTATION

**Status**: Architecture defined, production oracles not deployed

**What's Needed**:

The reserve-backed token system requires reliable price feeds for:
- √âTR/USD pricing
- Synthetic asset pricing
- Reserve asset valuations

**Current State**:
- Oracle pallet exists (\`pallet-reserve-oracle\`)
- Price submission mechanism implemented
- No production oracle operators

**Implementation Priority**: HIGH (required for EDSC mainnet)

**Recommended Approach**:

Deploy oracle node network:
\`\`\`rust
// Oracle data providers
pub struct OracleProvider {
    pub account: AccountId,
    pub stake: Balance,              // Minimum 1000 √âTR
    pub reputation: ReputationScore,
    pub price_feeds: Vec<AssetId>,
}

// Price aggregation
pub fn submit_price(
    origin: OriginFor<T>,
    asset_id: AssetId,
    price: u128,      // USD price (6 decimals)
    timestamp: u64,
) -> DispatchResult;

pub fn aggregate_prices(asset_id: AssetId) -> Option<u128> {
    // Median of all submitted prices (outlier rejection)
    let mut prices = PriceSubmissions::<T>::get(asset_id);
    prices.sort();
    prices.get(prices.len() / 2).copied()
}
\`\`\`

**Oracle Incentives**:
- Accurate submissions ‚Üí Earn fees (0.1% of trades using oracle price)
- Outlier submissions ‚Üí Reputation penalty
- Provably false data ‚Üí Slashing

**Estimated Work**: 4-6 weeks to deploy production oracle network

**Location**: \`src/pallets/pallet-reserve-oracle/\` (exists, needs production deployment)

### 9.6. FlareSwap DEX Deployment ‚ö†Ô∏è CONTRACTS READY, NOT DEPLOYED

**Status**: Smart contracts complete, deployment pending

**What's Complete**:
- FlareSwap Factory, Pair, ERC20 (Core)
- FlareSwap Router, Library, WETH (Periphery)
- Solidity contracts tested locally

**What's Missing**:
1. **Contract Compilation**: Compile to WASM for √ãtwasmVM
2. **Deployment Scripts**: Automated deployment to FlareChain
3. **Frontend Integration**: Web UI for swapping
4. **Liquidity Bootstrapping**: Initial √âTR/EDSC pools
5. **Subgraph/Indexer**: Track trades, volume, TVL

**Implementation Priority**: HIGH (DeFi ecosystem enabler)

**Deployment Steps**:
\`\`\`bash
# 1. Compile contracts to WASM
solang compile --target substrate FlareSwapFactory.sol
solang compile --target substrate FlareSwapPair.sol
solang compile --target substrate FlareSwapRouter.sol

# 2. Deploy via extrinsic
polkadot-js-api tx.contracts.instantiateWithCode \\
  --gas 1000000 \\
  --value 0 \\
  --code FlareSwapFactory.wasm \\
  --data 0x... # constructor args

# 3. Verify deployment
polkadot-js-api query.contracts.contractInfoOf <contract-address>
\`\`\`

**Estimated Work**: 2-3 weeks for full deployment + UI

**Location**:
- Contracts: \`05-multichain/flareswap/\` (complete)
- Deployment: Needs scripts in \`scripts/deploy-dex.sh\`

### 9.7. Comprehensive Testing ‚ö†Ô∏è IN PROGRESS

**Status**: Unit tests exist, integration/stress tests incomplete

**Test Coverage**:
- Unit tests: ~60% coverage
- Integration tests: ~30% coverage
- Stress tests: Not implemented
- Security audits: Not completed

**What's Needed**:

1. **Runtime Integration Tests**:
   - Multi-pallet interaction tests
   - Cross-chain message passing
   - Reserve rebalancing scenarios
   - Liquidation stress tests

2. **Performance Benchmarks**:
   - Transaction throughput (target: 1000+ TPS)
   - Block finalization time (target: <60s for 95% finality)
   - VMw metering overhead
   - Cross-chain latency

3. **Security Audits**:
   - Third-party audit of all runtime code
   - Fuzzing tests for edge cases
   - Formal verification of critical components

**Implementation Priority**: CRITICAL (before mainnet)

**Estimated Work**: 6-8 weeks for comprehensive test suite + audits

### Summary: Implementation Roadmap

| Component | Priority | Status | Estimated Work | Blocker for Mainnet? |
|-----------|----------|--------|----------------|---------------------|
| VMw Metering Runtime | HIGH | 40% | 2-3 weeks | ‚úÖ YES |
| √ãtwasmVM Completion | HIGH | 60% | 4-6 weeks | ‚úÖ YES |
| Oracle Network | HIGH | 70% | 4-6 weeks | ‚úÖ YES |
| FlareSwap Deployment | HIGH | 90% | 2-3 weeks | ‚ö†Ô∏è PARTIAL |
| Lightning-Bloc | MEDIUM | 10% | 8-12 weeks | ‚ùå NO (post-mainnet) |
| Post-Quantum Crypto | LOW | 5% | 6-8 weeks | ‚ùå NO (future upgrade) |
| Comprehensive Testing | CRITICAL | 45% | 6-8 weeks | ‚úÖ YES |

**Total Pre-Mainnet Work**: 18-26 weeks (~4-6 months) for critical components

**Mainnet Readiness Checklist**:
- [x] Core E¬≥20 components (13/13 complete)
- [ ] VMw metering runtime
- [ ] √ãtwasmVM contract execution
- [ ] Oracle network deployment
- [ ] FlareSwap DEX deployment
- [ ] Comprehensive test suite
- [ ] Security audit completion
- [x] Reserve infrastructure (pallet-multiasset-reserve, pallet-reserve-backed-token)

**Current Status**: **ALPHA COMPLETE** (all architecture defined, ~70% implementation complete)

**Next Milestone**: **BETA LAUNCH** (all mainnet blockers resolved, audited)

---

## CONCLUSION

The E¬≥20 protocol provides a complete, modular foundation for sovereign blockchain networks:

- **ASF**: Adaptive, spectrum-based finality
- **VMw**: Energy-based computation metering
- **Multichain**: Native coordination without bridges
- **EtwasmVM**: Secure, efficient smart contracts
- **DETR**: Robust P2P networking
- **Post-Quantum**: Future-proof cryptography

**Status**: ‚úÖ All 13 components at 100% Alpha Complete

---

**End of Volume II**

**Next**: Volume III - Governance & Fiscal Mechanics

---

## CLOSING REMARKS

To be quite frank, I have never considered the status quo an unequivocal consensus of a group of people.

Considering the multitude of variables that go into decision-making, it is difficult to fathom how what was, still is, and will always be.

This idea does not promote growth, prosperity, fairness, or decentralization.

It often feels forced upon you and remains unchallenged due to cultural reinforcement and other factors.

This stagnation in society has shifted power from those who could effect change to those who benefit from maintaining the status quo.

We are in a unique period in which power can be reclaimed by the powerless.

Exploitation of personal data can be stopped, and disintermediation of trusted third parties can become the norm.

Borders can be reimagined.

When liberties such as digital rights, data protection, and decentralized finance are on the line for our generation and the generations to come, I will fight until my last breath.

The √ãtrid FOODOS Project will be our vehicle in this fight ‚Äî a free and open decentralized democracy of stakeholders.

By cutting the mental chains of reliance on a central intermediary and becoming self-sufficient stakeholders, we can achieve a brighter tomorrow.

**‚Äì Eoj Edred**
**Founder, √ãtrid FODDoS Project**

---

*"Provide a flare and guide the way, the future of tomorrow is decided today."*

**‚Äì Eoj Edred**
`
    },
    'vol3': {
        title: 'Volume III: Governance & Fiscal Mechanics',
        filename: 'ivory-paper-vol3-governance.md',
        content: `# √ãTRID IVORY PAPERS
## Volume III: Governance & Fiscal Mechanics

**Document ID**: ETRID-IP-VOL3-2025
**Status**: ACTIVE PROTOCOL SPECIFICATION
**Publication Date**: October 24, 2025
**Founder**: Eoj Edred
**License**: GPLv3 (Open Source, Non-Commercial)

---

## VOLUME III CONTENTS

1. Consensus Day - The Constitutional Event
2. Governance Roles & Responsibilities
3. Fiscal Cycle & Treasury Management
4. Token Economics (√âTR, EDSC, VMw)
5. Proposal System & Voting Mechanisms
6. Reward Distribution & Slashing
7. Economic Sustainability Model
8. Emergency Procedures & Crisis Response

---

## 1. CONSENSUS DAY - THE CONSTITUTIONAL EVENT

### Overview

**Consensus Day** occurs annually on **December 1st** at **12:00 AM PST**. It is the network's constitutional moment where all major governance decisions are made collectively.

**Frequency**: Once per year (365 days)
**Participation**: All √âTR stakers (VALIDITY Nodes, Common Stake Peers, Decentralized Directors)

**Pre-Consensus Period**: January 1 ‚Äì October 31
- Registration for eligibility
- Proposal submission
- Campaigning for proposals and director candidates
- Preliminary voting and discussion

**Consensus Day Purpose**:
- Vote on proposals (protocol improvements, standards, parameter changes, developer commits)
- Adjust economic parameters (rewards, penalties, supply, salaries)
- Elect 9 Decentralized Directors for the upcoming year
- Distribute rewards to participating stakeholders

**Voting Power**: Staked √âTR √ó Coinage
- Coinage = time-weighted stake (how long tokens have been staked)
- Longer stakes = higher voting power multiplier
- Encourages long-term stakeholder commitment

### Phase 1: Registration (6 hours)

**Purpose**: Submit proposals, lock stakes, register participation

**Actions**:
- **Proposal Submission**: Anyone with ‚â• 10,000 √âTR can submit proposals
- **Stake Locking**: Participants lock √âTR to receive voting power
- **Validator Registration**: Validators signal participation (required for quorum)
- **Delegate Assignment**: Token holders can delegate votes to trusted parties

**Proposal Types**:
1. **Inflation Rate Adjustment** (hard cap: 0-5% annual)
2. **Parameter Changes** (block times, finality thresholds, fee structure)
3. **Budget Allocation** (grants, development, marketing, operations)
4. **Protocol Upgrades** (runtime changes, pallet additions)
5. **Director Elections** (elect 9 Decentralized Directors)
6. **Emergency Actions** (slash validators, pause chains, deploy hotfixes)

**Proposal Requirements**:
\`\`\`rust
struct Proposal {
    proposer: AccountId,
    title: String,              // Max 100 chars
    description: String,        // Max 2000 chars
    category: ProposalCategory,
    budget_request: Balance,    // If funding required
    implementation_plan: Hash,  // IPFS hash to detailed plan
    bond: Balance,              // 10,000 √âTR minimum
    supporting_validators: Vec<AccountId>, // Min 3 validators
}
\`\`\`

**Proposal Bond**:
- **Amount**: 10,000 √âTR (locked during voting)
- **Refund**: Full refund if proposal reaches 5% quorum
- **Slash**: 50% slashed if spam/malicious, 50% returned if simply unpopular

### Phase 2: Voting (12 hours)

**Purpose**: Community + validators vote on all proposals

**Voting Power Calculation**:
\`\`\`rust
fn calculate_voting_power(
    staked_amount: Balance,
    stake_duration: BlockNumber, // How long stake has been locked
    participation_history: u32,  // Previous Consensus Days attended
) -> VotingPower {
    let base_power = staked_amount;

    // Stake duration bonus (max +20%)
    let duration_multiplier = 1.0 + (stake_duration / BLOCKS_PER_YEAR).min(0.2);

    // Participation history bonus (max +10%)
    let history_multiplier = 1.0 + (participation_history as f64 * 0.02).min(0.1);

    let adjusted_power = base_power * duration_multiplier * history_multiplier;

    VotingPower::new(adjusted_power as u128)
}
\`\`\`

**Voting Mechanism**:
- **Vote Options**: Yes / No / Abstain
- **Vote Weight**: Proportional to voting power
- **Vote Privacy**: Votes are public (on-chain transparency)
- **Vote Changes**: Can change vote until Phase 2 ends
- **Delegation**: Votes can be delegated (revocable at any time)

**Quorum Requirements**:

Dual quorum system ensures both community and validators participate:

\`\`\`rust
struct QuorumRequirements {
    community_quorum: Percent,    // 33% of circulating √âTR must vote
    validator_quorum: Percent,    // 51% of active validators must vote
}

fn check_quorum(proposal: &Proposal) -> bool {
    let community_participation = proposal.total_votes / circulating_supply();
    let validator_participation = proposal.validator_votes.len() / active_validators();

    community_participation >= 0.33 && validator_participation >= 0.51
}
\`\`\`

**Approval Threshold**:
- **Simple Majority**: >50% for budget allocations, parameter tweaks
- **Supermajority**: >66% for protocol upgrades, emergency actions
- **Unanimous Director Approval**: All 9 Directors for constitutional changes

### Phase 3: Minting (3 hours)

**Purpose**: Execute approved budgets by minting new √âTR

**Minting Logic**:
\`\`\`rust
fn execute_approved_budgets(approved_proposals: Vec<Proposal>) -> Balance {
    let mut total_mint_amount = 0u128;

    for proposal in approved_proposals {
        if proposal.category == ProposalCategory::BudgetAllocation {
            // Verify budget doesn't exceed annual cap
            let annual_cap = circulating_supply() * approved_inflation_rate / 100;

            if total_mint_amount + proposal.budget_request <= annual_cap {
                // Mint tokens
                mint_to_treasury(proposal.budget_request);
                total_mint_amount += proposal.budget_request;

                // Emit event
                emit_event(Event::BudgetMinted {
                    proposal_id: proposal.id,
                    amount: proposal.budget_request,
                    recipient: Treasury::account_id(),
                });
            }
        }
    }

    total_mint_amount
}
\`\`\`

**Inflation Rate Control**:
- **Community Decides**: Consensus Day votes set annual inflation
- **Hard Cap**: 0-5% per year (enforced by protocol)
- **Default**: If no vote reaches consensus, previous year's rate continues
- **Emergency Override**: Directors can propose 0% inflation in crisis

**Minting Events**:
\`\`\`rust
enum MintEvent {
    BudgetMinted { proposal_id: u64, amount: Balance, recipient: AccountId },
    InflationApplied { rate: Percent, total_minted: Balance },
    TreasuryFunded { source: MintSource, amount: Balance },
}
\`\`\`

### Phase 4: Distribution (1 hour)

**Purpose**: Reward all participants who voted

**Distribution Formula**:
\`\`\`rust
fn calculate_participation_reward(
    voter: &Voter,
    total_participation_pool: Balance,
) -> Balance {
    // Pool = 1% of total minted during Phase 3
    let participation_pool = total_participation_pool;

    // Individual share based on voting power used
    let voter_share = voter.voting_power_used / total_voting_power_cast;

    // Bonus for voting on all proposals (completeness bonus)
    let completeness_multiplier = if voter.voted_on_all {
        1.2
    } else {
        1.0
    };

    let base_reward = participation_pool * voter_share;
    let final_reward = base_reward * completeness_multiplier;

    Balance::from(final_reward as u128)
}
\`\`\`

**Distribution Components**:
1. **Participation Rewards**: 1% of minted tokens divided among voters
2. **Validator Rewards**: Validators receive 0.5% bonus for participation
3. **Proposer Rewards**: Approved proposals earn 100 √âTR per proposal
4. **Director Stipends**: 9 Directors receive equal shares (total: 0.2% of mint)

**Distribution Example**:

If 100M √âTR minted during Consensus Day:
\`\`\`
Total Minted:            100,000,000 √âTR
Participation Pool (1%):   1,000,000 √âTR ‚Üí Divided among voters
Validator Bonus (0.5%):      500,000 √âTR ‚Üí Divided among validators
Director Stipends (0.2%):    200,000 √âTR ‚Üí 22,222 √âTR per Director
Proposer Rewards:            100 √âTR √ó approved proposals
Remaining:               98,300,000 √âTR ‚Üí Treasury for budgets
\`\`\`

---

## 2. GOVERNANCE ROLES & RESPONSIBILITIES

### Role Hierarchy

\`\`\`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            Community (All √âTR Holders)      ‚îÇ
‚îÇ  - Vote on proposals                        ‚îÇ
‚îÇ  - Elect Directors                          ‚îÇ
‚îÇ  - Propose changes (‚â•10k √âTR)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Directors   ‚îÇ   ‚îÇ    Validators    ‚îÇ
‚îÇ  (9 members) ‚îÇ   ‚îÇ  (Active Set)    ‚îÇ
‚îÇ  - Oversee   ‚îÇ   ‚îÇ  - Validate      ‚îÇ
‚îÇ  - Veto      ‚îÇ   ‚îÇ  - Secure        ‚îÇ
‚îÇ  - Emergency ‚îÇ   ‚îÇ  - Vote          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

### The Community (Token Holders)

**Power**:
- Vote on all proposals during Consensus Day
- Elect 9 Decentralized Directors annually
- Propose protocol changes (requires ‚â•10,000 √âTR bond)
- Delegate voting power to trusted parties

**Responsibilities**:
- Participate in annual governance
- Review proposals and technical documentation
- Report bugs, vulnerabilities, exploits
- Contribute to ecosystem growth

**Rights**:
- Receive staking rewards
- Access to all governance decisions and data
- Freedom to fork the network (GPLv3)

### Decentralized Directors (The Board)

**Composition**: 9 individuals elected annually

**Requirements**:
- **Minimum stake: 128 √âTR**
- **Must serve as OD Flare Nodes** (Operational Director Flare Nodes)
- Must maintain active participation in network operations

**Term**: 1 year (renewable via re-election)

**Term Limits**:
- **One-year terms**
- **One-year cooldown** between terms
- **Maximum 3 lifetime terms** (cannot serve more than 3 total terms)

**Election Process**:
1. Candidates announce during Pre-Consensus Period (Jan 1 - Oct 31)
2. Community votes on Consensus Day (December 1)
3. Top 9 vote-getters elected
4. Ties resolved by stake-weighted runoff
5. Voting power = Staked √âTR √ó Coinage

**Powers**:
1. **Governance Oversight**: Oversee development and consensus proposals
2. **Protocol Maintenance**: Coordinate security audits, bug bounties
3. **Representation**: Speak for √ãtrid at conferences, media, partnerships
4. **Treasury Management**: Approve budget disbursements (community-authorized)
5. **Emergency Coordination**: Coordinate response to network emergencies

**Limitations**:
- Cannot change protocol without community consensus vote
- Cannot mint tokens outside Consensus Day
- **No hierarchy** among Directors - all decisions are community-driven
- Cannot override community supermajority
- Subject to term limits (max 3 lifetime terms)

**Compensation**:
- **Community-voted salaries** (determined annually on Consensus Day)
- No predetermined amounts - stakeholders decide compensation
- Funded from Consensus Day distribution

**Accountability**:
- Regular public reports required
- Can be removed mid-term via emergency community vote
- All communications public and logged
- Bound by Foundation bylaws

### VALIDITY Nodes (Validators)

**Role**: √ãtrid Partitioned Burst Chain nodes in consensus, syncing with Flare Chain. Responsible for block production, finality attestation, and cross-chain state verification.

**Requirements**:
- **Minimum stake: 64 √âTR**
- Hardware: 8-core CPU, 32GB RAM, 1TB SSD, 1Gbps network
- Uptime: >98% (measured over 30-day rolling window)
- Must run full nodes for FlareChain + ‚â•1 PBC
- Identity: Must verify on-chain identity (no KYC, just persistent identity)

**Node Statuses**:
- Registered
- Pending
- Sequenced
- Chilled
- De-Sequenced
- Re-Sequenced

**Rewards**:
\`\`\`rust
fn calculate_validator_reward(
    validator: &Validator,
    epoch_duration: BlockNumber,
    total_validator_pool: Balance,
) -> Balance {
    // Base reward proportional to stake
    let stake_ratio = validator.stake / total_active_stake();
    let base_reward = total_validator_pool * stake_ratio;

    // Uptime multiplier (0.90 - 1.10)
    let uptime_multiplier = 0.9 + (validator.uptime - 0.95).max(0.0) * 2.0;

    // Finality contribution (signed blocks / expected blocks)
    let finality_multiplier = validator.blocks_signed / validator.blocks_expected;

    // Final reward
    base_reward * uptime_multiplier * finality_multiplier
}
\`\`\`

**Slashing**:
- **Downtime**: -1% stake per day offline (after 24h grace period)
- **Equivocation**: -10% stake for double-signing blocks
- **Malicious Behavior**: -50% stake + removal for provable attacks
- **Censorship**: -5% stake for ignoring valid transactions

### Common Stake Peers

**Role**: Stakeholders who participate in governance without running full node infrastructure

**Requirements**:
- **Minimum stake: 1+ √âTR**

**Privileges**:
- Voting on proposals during Consensus Day
- Campaigning for proposals
- Reporting faults and issues
- Earning rewards based on stake, coinage, and activity

**Voting Power Formula**:
\`\`\`
Voting Power = Staked √âTR √ó Coinage
\`\`\`

Where coinage represents how long tokens have been staked (time-weighted stake)
- Must run full nodes for FlareChain + ‚â•3 PBCs
- Must respond to verification requests within 10 blocks

**Rewards**:
- 0.1% fee on all cross-chain transactions
- Proportional to verification work performed
- Paid from cross-chain transaction fees

**Slashing**:
- -20% stake for incorrect verification
- -50% stake for colluding to pass invalid proofs

### The Foundation (Pre-Mainnet Only)

**Role**: Bootstrap the network until first Consensus Day

**Powers**:
- Set initial parameters (inflation, fees, block times)
- Deploy initial infrastructure
- Fund initial development
- Conduct security audits

**Sunset Clause**:
- Foundation dissolves after first successful Consensus Day
- All remaining funds transferred to community treasury
- No ongoing authority or control

---

## 3. FISCAL CYCLE & TREASURY MANAGEMENT

### Treasury Architecture

**Treasury Account**: On-chain multisig controlled by 9 Directors (6-of-9 threshold)

**Funding Sources**:
1. **Transaction Fees**: 50% of all fees ‚Üí Treasury (50% burned)
2. **Consensus Day Minting**: Approved budgets minted to treasury
3. **Validator Slashing**: 50% of slashed stakes ‚Üí Treasury (50% burned)
4. **Cross-Chain Fees**: 10% of bridge fees ‚Üí Treasury

**Treasury Balance Formula**:
\`\`\`rust
fn calculate_treasury_balance() -> Balance {
    let inflows = transaction_fees * 0.5
                + consensus_day_mint
                + slashing_proceeds * 0.5
                + bridge_fees * 0.1;

    let outflows = budget_disbursements
                 + validator_rewards
                 + director_stipends
                 + emergency_expenses;

    previous_balance + inflows - outflows
}
\`\`\`

### Fiscal Year Cycle

**Fiscal Year**: December 1st ‚Üí November 30th (aligned with Consensus Day)

**Budget Categories**:
1. **Development** (40% of budget): Core protocol, tools, libraries
2. **Marketing** (20% of budget): Education, outreach, partnerships
3. **Operations** (15% of budget): Infrastructure, monitoring, support
4. **Grants** (15% of budget): Community projects, research, ecosystem
5. **Emergency Reserve** (10% of budget): Held for crisis response

**Budget Approval Process**:
1. **Consensus Day**: Community votes on budget allocation per category
2. **Director Oversight**: Directors approve individual disbursements
3. **Quarterly Review**: Directors publish spending reports every 3 months
4. **Annual Audit**: Third-party audit published before next Consensus Day

### Treasury Transparency

**All treasury actions emit events**:
\`\`\`rust
enum TreasuryEvent {
    Deposit { source: DepositSource, amount: Balance },
    Disbursement { category: BudgetCategory, recipient: AccountId, amount: Balance },
    DirectorVote { director: AccountId, proposal_id: u64, vote: bool },
    QuarterlyReport { quarter: u8, total_spent: Balance, category_breakdown: Vec<(BudgetCategory, Balance)> },
}
\`\`\`

**Public Dashboard**:
- Real-time treasury balance
- All incoming/outgoing transactions
- Budget vs. actual spending per category
- Director voting records
- Historical trends (YoY comparison)

### Mint and Burn Dynamics

**Minting Events**:
1. **Consensus Day**: Annual minting for approved budgets
2. **Emergency Minting**: Directors can mint (7/9 vote) in crisis (max 1% of supply)

**Burning Events**:
1. **Transaction Fees**: 50% of all fees burned
2. **Validator Slashing**: 50% of slashed stakes burned
3. **Deflationary Votes**: Community can vote to burn treasury reserves

**Net Supply Formula**:
\`\`\`rust
fn calculate_net_supply_change(epoch: Epoch) -> i128 {
    let minted = consensus_day_mint + emergency_mint;
    let burned = transaction_fees * 0.5 + slashing_proceeds * 0.5 + voluntary_burns;

    (minted as i128) - (burned as i128)
}
\`\`\`

**Target**: Long-term supply should stabilize or decrease slowly (deflationary tendency)

---

## 4. TOKEN ECONOMICS (√âTR, EDSC, VMw)

### √âTR (√ãtrid Token)

**Purpose**: Governance, staking, gas fees

**Total Supply**: 1 Billion √âTR (initial), subject to inflation/deflation

**Initial Distribution**:
\`\`\`
Genesis Block:           1,000,000,000 √âTR

Allocation:
- Public Sale (40%):       400,000,000 √âTR
- Foundation (25%):        250,000,000 √âTR (4-year vesting)
- Team (15%):              150,000,000 √âTR (3-year vesting)
- Validators (10%):        100,000,000 √âTR (incentive pool)
- Ecosystem Grants (10%):  100,000,000 √âTR (unlocked)
\`\`\`

**Inflation/Deflation**:
- **Inflation**: Voted annually (0-5% cap), minted on Consensus Day
- **Deflation**: Transaction fees + slashing continuously burned
- **Net Effect**: Tends toward slight deflation long-term

**Use Cases**:
1. **Staking**: Lock √âTR to become validator or voter
2. **Gas Fees**: Pay for transactions (measured in VMw, priced in √âTR)
3. **Governance**: Vote on proposals during Consensus Day
4. **Collateral**: Back EDSC stablecoin (over-collateralized)

### EDSC (√ãtrid Dollar Stablecoin)

**Purpose**: Stable unit of account for payments, contracts

**Peg**: $1.00 USD (soft peg maintained by arbitrage + liquidations)

**Collateral**: Over-collateralized by multi-asset reserve (target: 150%)

**Reserve Infrastructure**:

EDSC is backed by a diversified multi-asset reserve managed through two specialized pallets:

1. **pallet-multiasset-reserve**: Manages reserve composition and automated rebalancing
2. **pallet-reserve-backed-token**: Handles EDSC minting and collateral positions

**Reserve Composition**:
\`\`\`
Target Allocation (example):
- 40% √âTR (native token)
- 30% BTC (bridged from BTC-PBC)
- 20% ETH (bridged from ETH-PBC)
- 10% Other assets (governance-approved)

Rebalancing:
- Triggered when deviation exceeds 5%
- Automated via pallet-multiasset-reserve
- Governance can adjust allocation strategy
\`\`\`

**Allocation Strategies**:
- **EqualWeight**: Equal distribution across all reserve assets
- **MarketCapWeighted**: Weight by market capitalization
- **RiskAdjusted**: Weight by volatility/risk metrics
- **Custom**: Custom weights set by governance vote

**Minting Process**:
\`\`\`rust
fn mint_edsc(collateral_amount: Balance) -> Result<Balance, Error> {
    let etr_price_usd = oracle::get_etr_price(); // From price oracle
    let collateral_value_usd = collateral_amount * etr_price_usd;

    // Require 150% collateralization
    let max_edsc_mintable = collateral_value_usd / 1.5;

    // Lock collateral in reserve
    lock_collateral(caller, collateral_amount)?;

    // Mint EDSC via pallet-reserve-backed-token
    mint_stablecoin(caller, max_edsc_mintable)?;

    // Reserve automatically rebalances if needed
    if should_rebalance() {
        trigger_rebalance()?;
    }

    Ok(max_edsc_mintable)
}
\`\`\`

**Liquidation Process**:
\`\`\`rust
fn check_liquidation(cdp: &CollateralDebtPosition) -> bool {
    let etr_price_usd = oracle::get_etr_price();
    let collateral_value = cdp.collateral_amount * etr_price_usd;
    let debt_value = cdp.edsc_minted; // 1 EDSC = $1

    let collateralization_ratio = collateral_value / debt_value;

    // Liquidate if ratio falls below 120% (updated threshold)
    if collateralization_ratio < 1.2 {
        liquidate_cdp(cdp);
        true
    } else {
        false
    }
}
\`\`\`

**Collateralization Parameters**:
\`\`\`
Minimum Collateral Ratio: 150%
Liquidation Threshold:     120%
Liquidation Penalty:       5%

Example:
To mint 1000 EDSC ($1000 value):
‚Üí Requires: $1500 in collateral (150%)
‚Üí Liquidated if collateral falls to $1200 (120%)
‚Üí Liquidator receives: $1200 + 5% penalty = $1260
‚Üí Position holder loses: $60 to liquidator
\`\`\`

**Stability Mechanisms**:
1. **Multi-Asset Reserve**: Reduces correlation risk compared to single-asset backing
2. **Automated Rebalancing**: Maintains target allocations via pallet-multiasset-reserve
3. **Over-Collateralization**: 150% target ratio prevents undercollateralization
4. **Liquidation**: Automated liquidations at 120% ratio (updated from 110%)
5. **Liquidation Penalty**: 5% penalty incentivizes proper position management
6. **Interest Rates**: Dynamic interest on borrowed EDSC adjusts to maintain peg
7. **Arbitrage**: Price deviations create profitable arbitrage opportunities
8. **DEX Integration**: FlareSwap enables efficient √âTR/EDSC trading and price discovery

**Reserve-Backed Token Framework**:

Beyond EDSC, the reserve infrastructure enables creation of diverse synthetic assets:

**Synthetic Asset Types**:
- **Stablecoins**: EDSC (USD), EEUR (Euro), EGBP (Pound)
- **Commodities**: EXAU (Gold), EXAG (Silver), EXOIL (Oil)
- **Equities**: ETSLA (Tesla), EAAPL (Apple), EGOOG (Google)
- **Indices**: ES&P (S&P 500), ENASDAQ (Nasdaq), EDJI (Dow Jones)

**Governance Controls**:
- Whitelisting of reserve assets (Consensus Day vote required)
- Adjustment of collateralization ratios per synthetic
- Rebalancing strategy selection
- Emergency pause of minting/liquidations

### VMw (Virtual Machine Watts)

**Purpose**: Measure computational cost (gas metering)

**Definition**: 1 VMw = 1 Watt-second of CPU energy

**Pricing**:
\`\`\`rust
fn calculate_gas_price() -> Balance {
    // Dynamic pricing based on block fullness
    let block_utilization = current_block_vmw / max_block_vmw; // 0.0 - 1.0

    // Base price: 1 VMw = 0.000001 √âTR
    let base_price = 1_000_000_000_000u128; // 1e-6 √âTR in plancks

    // Price increases exponentially with utilization
    let surge_multiplier = if block_utilization > 0.75 {
        1.0 + ((block_utilization - 0.75) * 8.0)
    } else {
        1.0
    };

    Balance::from((base_price as f64 * surge_multiplier) as u128)
}
\`\`\`

**Block Limits**:
- **Max VMw per block**: 10,000,000 VMw
- **Target utilization**: 50% (5,000,000 VMw)
- **Surge pricing**: Kicks in above 75% utilization

**Example Transaction Costs**:
\`\`\`
Simple Transfer:           100 VMw   ‚âà 0.0001 √âTR   ($0.001 at $10/√âTR)
Token Swap:              5,000 VMw   ‚âà 0.005 √âTR    ($0.05)
Complex Contract:       50,000 VMw   ‚âà 0.05 √âTR     ($0.50)
Cross-Chain Bridge:    200,000 VMw   ‚âà 0.2 √âTR      ($2.00)
\`\`\`

---

## 5. PROPOSAL SYSTEM & VOTING MECHANISMS

### Proposal Lifecycle

\`\`\`
1. Draft ‚Üí 2. Submission ‚Üí 3. Discussion ‚Üí 4. Voting ‚Üí 5. Execution
   (Off-chain)  (Registration)   (48h window)    (12h vote)   (Minting + Distribution)
\`\`\`

### Proposal Template

**Minimum Requirements**:
\`\`\`markdown
# Proposal Title (max 100 chars)

## Summary (max 300 chars)
One-paragraph overview accessible to all voters.

## Motivation
Why is this proposal necessary? What problem does it solve?

## Specification
Technical details. How will this be implemented?

## Budget Request (if applicable)
Amount: _______ √âTR
Breakdown:
  - Development: _______ √âTR
  - Audit: _______ √âTR
  - Deployment: _______ √âTR

## Implementation Timeline
Phase 1: (date range) - Milestone 1
Phase 2: (date range) - Milestone 2
...

## Success Criteria
How will we know this proposal succeeded?

## Risks & Mitigations
What could go wrong? How will we address it?

## Supporting Validators (min 3)
- Validator 1: [address]
- Validator 2: [address]
- Validator 3: [address]
\`\`\`

### Voting Rules

**Vote Types**:
1. **Yes**: Support the proposal
2. **No**: Reject the proposal
3. **Abstain**: Count toward quorum but not approval

**Quadratic Voting** (Optional, for contentious issues):
\`\`\`rust
fn calculate_quadratic_vote_cost(num_votes: u32) -> Balance {
    // Cost increases quadratically
    // 1 vote = 1 √âTR, 2 votes = 4 √âTR, 3 votes = 9 √âTR, etc.
    let cost_per_vote = num_votes * num_votes;
    Balance::from(cost_per_vote as u128 * VOTE_COST_BASE)
}
\`\`\`

**Conviction Voting** (Optional, for long-term decisions):
\`\`\`rust
enum Conviction {
    None,       // 1x voting power, unlock immediately
    Locked1x,   // 1x voting power, locked 1 epoch after vote
    Locked2x,   // 2x voting power, locked 2 epochs
    Locked4x,   // 4x voting power, locked 4 epochs
    Locked8x,   // 8x voting power, locked 8 epochs
}
\`\`\`

### Proposal Execution

**Automatic Execution**:
- If proposal approved with quorum ‚Üí Executed in Phase 3 (Minting)
- If proposal rejected ‚Üí Bond returned (if >5% quorum), proposal archived
- If proposal doesn't reach quorum ‚Üí Bond slashed, proposal discarded

**Manual Execution** (for protocol upgrades):
- Directors + validators coordinate deployment
- Upgrade scheduled for specific block height
- All nodes must upgrade before deadline

---

## 6. REWARD DISTRIBUTION & SLASHING

### Validator Rewards

**Annual Validator Reward Pool**: ~3% of circulating supply

**Distribution**:
\`\`\`rust
fn distribute_epoch_rewards(epoch: Epoch) {
    let total_pool = circulating_supply() * 0.03 / EPOCHS_PER_YEAR;

    for validator in active_validators() {
        let base_reward = total_pool * (validator.stake / total_stake);
        let adjusted_reward = base_reward * validator.performance_multiplier;

        // Pay 50% to validator, 50% to delegators
        pay_reward(validator.account, adjusted_reward * 0.5);
        pay_delegators(validator, adjusted_reward * 0.5);
    }
}
\`\`\`

**Performance Multiplier**:
\`\`\`rust
fn calculate_performance_multiplier(validator: &Validator) -> f64 {
    let uptime_score = validator.uptime; // 0.0 - 1.0
    let finality_score = validator.blocks_signed / validator.blocks_expected;
    let participation_score = if validator.voted_consensus_day { 1.1 } else { 1.0 };

    uptime_score * finality_score * participation_score
}
\`\`\`

### Delegator Rewards

**Delegation Mechanism**:
- Token holders can delegate √âTR to validators
- Validators charge commission (0-100%, set by validator)
- Rewards automatically distributed each epoch

**Commission Structure**:
\`\`\`rust
fn distribute_delegation_rewards(validator: &Validator, total_reward: Balance) {
    let commission_rate = validator.commission; // e.g., 0.10 = 10%
    let commission_amount = total_reward * commission_rate;
    let delegator_pool = total_reward - commission_amount;

    // Pay commission to validator
    pay_reward(validator.account, commission_amount);

    // Distribute remaining to delegators proportionally
    for delegator in validator.delegators() {
        let delegator_share = delegator.stake / validator.total_delegated;
        let delegator_reward = delegator_pool * delegator_share;
        pay_reward(delegator.account, delegator_reward);
    }
}
\`\`\`

### Slashing Conditions

**Offense Types**:

| Offense | Severity | Slash Amount | Cooldown |
|---------|----------|--------------|----------|
| Downtime (>24h) | Low | 1% per day | 7 days |
| Missed blocks (>10%) | Low | 0.5% | 3 days |
| Equivocation (double-sign) | High | 10% | 30 days |
| Invalid finality vote | High | 5% | 14 days |
| Censorship (provable) | Medium | 5% | 14 days |
| Coordinated attack | Critical | 50% + removal | Permanent ban |

**Slashing Execution**:
\`\`\`rust
fn execute_slash(
    validator: AccountId,
    offense: OffenseType,
    evidence: Vec<u8>,
) -> Result<(), Error> {
    // Verify evidence
    verify_offense_evidence(offense, evidence)?;

    // Calculate slash amount
    let slash_amount = match offense {
        OffenseType::Downtime => validator.stake * 0.01,
        OffenseType::Equivocation => validator.stake * 0.10,
        OffenseType::MaliciousAttack => validator.stake * 0.50,
        // ... other offenses
    };

    // Execute slash
    burn_tokens(validator, slash_amount * 0.5); // 50% burned
    transfer_to_treasury(slash_amount * 0.5);   // 50% to treasury

    // Apply cooldown
    apply_validator_cooldown(validator, offense.cooldown_period);

    // Emit event
    emit_event(Event::ValidatorSlashed {
        validator,
        offense,
        amount: slash_amount,
        timestamp: current_block(),
    });

    Ok(())
}
\`\`\`

### Appeal Process

**Validators can appeal slashing**:
1. Submit appeal within 72 hours (costs 1,000 √âTR bond)
2. Directors review evidence (7/9 vote required to overturn)
3. If appeal successful: slash reversed, bond returned
4. If appeal rejected: bond added to treasury

---

## 7. ECONOMIC SUSTAINABILITY MODEL

### Long-Term Supply Dynamics

**Target**: Slightly deflationary long-term (~1% annual deflation)

**Inflows** (Minting):
- Consensus Day approved budgets: 0-5% per year (voted)
- Emergency minting: <0.1% per year (rare)

**Outflows** (Burning):
- Transaction fees: ~50% of fees (continuous)
- Slashing: ~50% of slashed stakes (episodic)
- Voluntary burns: Community-voted (rare)

**Net Supply Projection**:
\`\`\`
Year 1:  1.00B √âTR (genesis)
Year 2:  1.02B √âTR (+2% voted inflation - 1% burned = +1% net)
Year 3:  1.03B √âTR (+2% inflation - 1.5% burned = +0.5% net)
Year 5:  1.04B √âTR (+1.5% inflation - 2% burned = -0.5% net)
Year 10: 1.00B √âTR (back to genesis, deflationary equilibrium)
\`\`\`

### Fee Market Dynamics

**Transaction Fee Formula**:
\`\`\`rust
fn calculate_transaction_fee(vmw_cost: u64, priority: Priority) -> Balance {
    let base_fee = vmw_cost * get_current_vmw_price(); // Dynamic pricing

    let priority_multiplier = match priority {
        Priority::Low => 0.8,
        Priority::Normal => 1.0,
        Priority::High => 1.5,
        Priority::Urgent => 3.0,
    };

    base_fee * priority_multiplier
}
\`\`\`

**Fee Allocation**:
- 50% burned (deflationary pressure)
- 40% to validators (reward for block production)
- 10% to treasury (public goods funding)

### Economic Security

**Attack Cost Analysis**:

To attack √ãtrid, an adversary must:
1. Acquire >33% of staked √âTR (to disrupt finality)
2. Operate attack for multiple epochs before detection
3. Survive slashing and social coordination against them

**Cost**:
\`\`\`
Assume 40% of supply staked (400M √âTR)
33% of staked = 132M √âTR
At $10/√âTR = $1.32 Billion capital requirement

Cost of attack:
- Capital cost: $1.32B
- Slashing risk: 50% = $660M loss if caught
- Opportunity cost: 8% APY = $105M/year forgone rewards
- Reputation cost: √âTR price crash ‚Üí total loss

Total cost: >$2 Billion for 51% attack
\`\`\`

**Conclusion**: Economic security increases with network value and participation

---

## 8. EMERGENCY PROCEDURES & CRISIS RESPONSE

### Emergency Powers

**Directors Emergency Authority** (7-of-9 vote):
1. **Pause Chains**: Temporarily halt block production (max 72 hours)
2. **Emergency Upgrade**: Deploy hotfix without Consensus Day vote
3. **Slash Malicious Actors**: Immediate slashing for provable attacks
4. **Emergency Mint**: Mint up to 1% of supply for critical bug bounty

### Crisis Response Protocol

**Level 1: Minor Issue** (e.g., validator downtime spike)
- Response Team: On-call validators
- Action: Monitor, alert community
- Timeline: 24-hour resolution

**Level 2: Moderate Issue** (e.g., smart contract exploit)
- Response Team: Directors + Security Team
- Action: Pause affected pallets, deploy patch
- Timeline: 48-hour resolution

**Level 3: Critical Issue** (e.g., consensus failure)
- Response Team: All Directors + Core Developers + Community
- Action: Emergency governance vote, possible chain halt
- Timeline: Immediate action, 7-day resolution

### Social Recovery

**If network becomes compromised beyond repair**:
1. **Snapshot**: Take state snapshot at last known good block
2. **Fork**: Create new chain from snapshot
3. **Migrate**: Community coordinates migration to new chain
4. **Deprecate**: Old chain deprecated, new chain becomes canonical

**GPLv3 Protection**: Anyone can fork and continue the network

---

## 9. CONCLUSION: GOVERNANCE AS A LIVING SYSTEM

### Why This Model Works

1. **Alignment**: Token holders, validators, and users all benefit from network success
2. **Adaptation**: Annual Consensus Day forces regular evolution
3. **Transparency**: All decisions on-chain, all treasury actions public
4. **Resilience**: No single point of failure, multiple layers of accountability
5. **Sustainability**: Self-funding via fees, deflationary tendency prevents inflation

### Comparison to Other Models

| Feature | √ãtrid | Bitcoin | Ethereum | Polkadot |
|---------|-------|---------|----------|----------|
| **Governance** | On-chain annual vote | Off-chain (BIPs) | Off-chain (EIPs) | On-chain (referenda) |
| **Treasury** | Autonomous | None | Foundation-controlled | Autonomous |
| **Inflation** | Voted (0-5%) | Fixed (halving) | Fixed (~1%) | Fixed (~10%) |
| **Participation** | >33% quorum | N/A | ~5% typical | ~10% typical |
| **Emergency Powers** | Directors (7/9) | None | Foundation | Council |

### The Path to Sovereignty

√ãtrid governance is designed to achieve **true decentralization** through:
- **Economic incentives** (rewards for participation)
- **Social accountability** (transparent decisions, elected directors)
- **Technical constraints** (protocol-enforced caps, slashing)
- **Regular rhythm** (annual Consensus Day prevents drift)

**The goal**: A network that governs itself, funds itself, and evolves without relying on any central authority.

---

## APPENDIX A: Consensus Day Checklist

**For Voters**:
- [ ] Review all proposals (published 7 days before Consensus Day)
- [ ] Lock √âTR during Registration Phase (6 hours)
- [ ] Vote on all proposals during Voting Phase (12 hours)
- [ ] Claim participation rewards during Distribution Phase (1 hour)

**For Validators**:
- [ ] Signal participation during Registration Phase
- [ ] Vote on all proposals during Voting Phase
- [ ] Monitor network health during Minting Phase
- [ ] Verify reward distribution during Distribution Phase

**For Directors**:
- [ ] Review all proposals and publish recommendations
- [ ] Monitor quorum and voting during Voting Phase
- [ ] Execute approved budgets during Minting Phase
- [ ] Verify distribution accuracy during Distribution Phase

---

## APPENDIX B: Governance Formulas

### Quorum Calculation
\`\`\`rust
fn quorum_met(proposal: &Proposal) -> bool {
    let community_votes = proposal.total_votes;
    let validator_votes = proposal.validator_count;

    (community_votes >= circulating_supply() * 0.33) &&
    (validator_votes >= active_validator_count() * 0.51)
}
\`\`\`

### Approval Calculation
\`\`\`rust
fn proposal_approved(proposal: &Proposal) -> bool {
    let yes_votes = proposal.yes_votes;
    let total_votes = proposal.yes_votes + proposal.no_votes; // Abstain doesn't count

    let threshold = match proposal.category {
        ProposalCategory::BudgetAllocation => 0.50,
        ProposalCategory::ParameterChange => 0.50,
        ProposalCategory::ProtocolUpgrade => 0.66,
        ProposalCategory::EmergencyAction => 0.66,
    };

    (yes_votes as f64 / total_votes as f64) >= threshold
}
\`\`\`

---

## APPENDIX C: Further Reading

**Volume I**: Conceptual Architecture (Vision, Problem, Solution, Philosophy)
**Volume II**: Technical Specification (E¬≥20, ASF, VMw, Runtime)

**Online Resources**:
- Governance Portal: governance.etrid.org
- Proposal Archive: proposals.etrid.org
- Treasury Dashboard: treasury.etrid.org

---

**End of Volume III**

**√ãtrid Ivory Papers Complete**

---

*"Governance is not a feature to be added. It is the fundamental architecture of coordination."*

---

**Document Status**: ACTIVE PROTOCOL SPECIFICATION
**Next Review**: Consensus Day 2026 (December 1, 2026)

---

## CLOSING REMARKS

To be quite frank, I have never considered the status quo an unequivocal consensus of a group of people.

Considering the multitude of variables that go into decision-making, it is difficult to fathom how what was, still is, and will always be.

This idea does not promote growth, prosperity, fairness, or decentralization.

It often feels forced upon you and remains unchallenged due to cultural reinforcement and other factors.

This stagnation in society has shifted power from those who could effect change to those who benefit from maintaining the status quo.

We are in a unique period in which power can be reclaimed by the powerless.

Exploitation of personal data can be stopped, and disintermediation of trusted third parties can become the norm.

Borders can be reimagined.

When liberties such as digital rights, data protection, and decentralized finance are on the line for our generation and the generations to come, I will fight until my last breath.

The √ãtrid FOODOS Project will be our vehicle in this fight ‚Äî a free and open decentralized democracy of stakeholders.

By cutting the mental chains of reliance on a central intermediary and becoming self-sufficient stakeholders, we can achieve a brighter tomorrow.

**‚Äì Eoj Edred**
**Founder, √ãtrid FODDoS Project**

---

*"Provide a flare and guide the way, the future of tomorrow is decided today."*

**‚Äì Eoj Edred**

`
    },
};


        // Get URL parameters
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name) || 'ivory-paper';
        }

        // Load paper content
        function loadPaper(docKey) {
            const paper = embeddedPapers[docKey];
            if (!paper) {
                document.getElementById('content').innerHTML = '<p>Paper not found.</p>';
                return;
            }

            // Parse markdown to HTML using marked() for compatibility
            const htmlContent = marked(paper.content);
            document.getElementById('content').innerHTML = htmlContent;

            // Update active button
            document.querySelectorAll('.doc-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`btn-${docKey}`).classList.add('active');

            // Update page title
            document.title = paper.title + ' - √ãTRID';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Download current paper
        function downloadCurrent() {
            const docKey = getUrlParameter('doc');
            const paper = embeddedPapers[docKey];
            downloadMarkdown(paper.content, paper.filename);
        }

        // Download all papers as zip (simulate by downloading one by one)
        function downloadAll() {
            Object.keys(embeddedPapers).forEach((key, index) => {
                const paper = embeddedPapers[key];
                setTimeout(() => {
                    downloadMarkdown(paper.content, paper.filename);
                }, 500 * index);
            });
        }

        // Download markdown file
        function downloadMarkdown(content, filename) {
            const blob = new Blob([content], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Back to top button
        function setupBackToTop() {
            const backToTop = document.getElementById('back-to-top');

            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });

            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Check if marked is loaded
            if (typeof marked === 'undefined') {
                document.getElementById('content').innerHTML = '<p style="color: red;">Error: Markdown parser not loaded. Please refresh the page.</p>';
                return;
            }

            // Initialize AOS
            if (typeof AOS !== 'undefined') {
                AOS.init({
                    duration: 800,
                    easing: 'ease-out',
                    once: true
                });
            }

            // Load initial paper
            const docKey = getUrlParameter('doc');
            loadPaper(docKey);

            // Setup event listeners
            document.querySelectorAll('.doc-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const href = btn.getAttribute('href');
                    const docKey = new URLSearchParams(href.split('?')[1]).get('doc');
                    loadPaper(docKey);
                    history.pushState(null, '', href);
                });
            });

            document.getElementById('download-current').addEventListener('click', downloadCurrent);
            document.getElementById('download-all').addEventListener('click', downloadAll);

            // Setup back to top
            setupBackToTop();

            // Handle browser back/forward
            window.addEventListener('popstate', () => {
                const docKey = getUrlParameter('doc');
                loadPaper(docKey);
            });
        });

        // Configure marked options
        if (typeof marked !== 'undefined') {
            marked.setOptions({
                breaks: true,
                gfm: true,
                headerIds: true,
                mangle: false
            });
        }
    </script>
</body>
</html>