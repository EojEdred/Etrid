(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{7238:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nominators",function(){return t(4377)}])},2609:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},2779:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6127:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9810:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},4377:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var a=t(5893),r=t(7294),n=t(9008),c=t.n(n),l=t(2637),i=t(3627),d=t(2779),x=t(9176),o=t(2609),m=t(437),h=t(6127),p=t(9810),u=t(6076),g=t(3454);function j(){let[e]=(0,r.useState)(g.env.NEXT_PUBLIC_VALIDATOR_ADDRESS),{isConnected:s,isLoading:t,nominators:n}=(0,i.s)(e),[j,y]=(0,r.useState)(""),[f,N]=(0,r.useState)("stake"),[w,b]=(0,r.useState)("desc"),v=n.filter(e=>e.address.toLowerCase().includes(j.toLowerCase())).sort((e,s)=>{let t=0;switch(f){case"stake":t=e.stake>s.stake?1:-1;break;case"rewards":t=e.lastReward>s.lastReward?1:-1;break;case"time":t=e.since>s.since?1:-1}return"asc"===w?t:-t}),k=n.reduce((e,s)=>e+s.stake,BigInt(0)),S=e=>(Number(e)/1e18).toFixed(4),R=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Nominators - Validator Dashboard"}),(0,a.jsx)("meta",{name:"description",content:"Manage your validator nominators"})]}),(0,a.jsx)(l.Z,{isConnected:s,onConnectWallet:()=>{console.log("Connect wallet")},children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nominators"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage all nominators staking to your validator"})]}),(0,a.jsxs)("button",{onClick:()=>{let e=new Blob([["Address,Stake (ETR),Last Reward (ETR),Since,Active",...v.map(e=>[e.address,S(e.stake),S(e.lastReward),new Date(e.since).toISOString(),e.active?"Yes":"No"].join(","))].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="nominators-".concat(Date.now(),".csv"),t.click()},className:"flex items-center space-x-2 px-4 py-2 bg-etrid-600 text-white rounded-lg hover:bg-etrid-700 transition-colors",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Export Data"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Nominators"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:n.length}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n.filter(e=>e.active).length," active"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-etrid-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-6 h-6 text-etrid-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Stake"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:S(k)}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"ETR"})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Average Stake"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:n.length>0?S(k/BigInt(n.length)):"0.0000"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"ETR per nominator"})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-success-600"})})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by address...",value:j,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-etrid-500 focus:border-transparent"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600 whitespace-nowrap",children:"Sort by:"}),(0,a.jsxs)("select",{value:f,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-etrid-500",children:[(0,a.jsx)("option",{value:"stake",children:"Stake"}),(0,a.jsx)("option",{value:"rewards",children:"Rewards"}),(0,a.jsx)("option",{value:"time",children:"Time"})]})]}),(0,a.jsxs)("button",{onClick:()=>b("asc"===w?"desc":"asc"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:["desc"===w?(0,a.jsx)(p.Z,{className:"w-4 h-4"}):(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"desc"===w?"Descending":"Ascending"})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nominator"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stake"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Reward"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Since"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:t?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-etrid-600 border-t-transparent rounded-full animate-spin"})})})}):0===v.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:j?"No nominators found matching your search":"No nominators yet"})}):v.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-etrid-500 to-etrid-700 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:e.address.slice(0,2)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:R(e.address)}),(0,a.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.address})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[S(e.stake)," ETR"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[100px]",children:(0,a.jsx)("div",{className:"bg-etrid-600 h-2 rounded-full",style:{width:"".concat(Number(e.stake)/Number(k)*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[(Number(e.stake)/Number(k)*100).toFixed(2),"%"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:[S(e.lastReward)," ETR"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("p",{className:"text-sm text-gray-900",children:(0,u.Z)(new Date(e.since),{addSuffix:!0})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})})]},e.address))})]})}),v.length>0&&(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",v.length," of ",n.length," nominators"]})})]})]})})]})}}},function(e){e.O(0,[845,454,76,241,888,774,179],function(){return e(e.s=7238)}),_N_E=e.O()}]);